{"ast":null,"code":"var _jsxFileName = \"/Users/mac3/Desktop/workspace/FacebookClient/src/pages/settings/comment/index.tsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport { Switch, message, Row, Col } from 'antd';\nimport { CheckOutlined, CloseOutlined } from '@ant-design/icons';\nimport { getFacebookPageSetting, updateFacebookPageSetting } from '../../../api/setting';\nimport { useSelector } from 'react-redux';\nimport SelectPage from '../../report/form-filter/select-page';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst style = {\n  marginBottom: 5,\n  marginRight: 10\n};\n\nconst Comment = () => {\n  _s();\n\n  const store = useSelector(state => state.store.store);\n  const token = useSelector(state => state.auth.token);\n  const pages = useSelector(state => state.fanpage.pages);\n  const page = useSelector(state => state.fanpage.page);\n  const [hideAllComments, setHideAllComment] = useState(false);\n  const [hidePhoneComments, setHidePhoneComments] = useState(false);\n  const [pageId, setPageId] = useState(page._id);\n  const [dataPage, setDataPage] = useState(page);\n  useEffect(() => {\n    async function fetchFacebookPageSetting() {\n      try {\n        const res = await getFacebookPageSetting({\n          storeId: store._id,\n          fbPageId: dataPage.fbObjectId,\n          token: token.accessToken\n        });\n\n        if (res) {\n          setHideAllComment(res.hideAllComments || false);\n          setHidePhoneComments(res.hidePhoneComments || false);\n        } else {\n          setHideAllComment(false);\n          setHidePhoneComments(false);\n        }\n      } catch (error) {\n        message.error('Lỗi tải trang!');\n      }\n    }\n\n    fetchFacebookPageSetting();\n  }, [pageId]);\n\n  const onChangeHideAllComment = async value => {\n    try {\n      setHideAllComment(value);\n\n      if (value) {\n        setHidePhoneComments(!value);\n      }\n\n      await updateFacebookPageSetting({\n        storeId: store._id,\n        fbPageId: dataPage.fbObjectId,\n        token: token.accessToken,\n        data: {\n          hideAllComments: value,\n          hidePhoneComments: false\n        }\n      });\n      message.success('Cài đặt thành công');\n    } catch (error) {\n      message.error('Cài đặt thất bại');\n    }\n  };\n\n  const onChangeHidePhoneComments = async value => {\n    try {\n      setHidePhoneComments(value);\n\n      if (value) {\n        setHideAllComment(!value);\n      }\n\n      await updateFacebookPageSetting({\n        storeId: store._id,\n        fbPageId: dataPage.fbObjectId,\n        token: token.accessToken,\n        data: {\n          hideAllComments: false,\n          hidePhoneComments: value\n        }\n      });\n      message.success('Cài đặt thành công');\n    } catch (error) {\n      message.error('Cài đặt thất bại');\n    }\n  };\n\n  const selectPage = pageId => {\n    setPageId(pageId);\n    const pageSelected = Object.keys(pages).map(key => pages[key]).find(p => p._id === pageId);\n    setDataPage(pageSelected);\n  };\n\n  const renderContent = () => {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(Row, {\n        gutter: 15,\n        style: style,\n        children: [/*#__PURE__*/_jsxDEV(Col, {\n          children: /*#__PURE__*/_jsxDEV(\"p\", {\n            style: {\n              color: 'red',\n              marginTop: 5\n            },\n            children: \"C\\xE0i \\u0111\\u1EB7t t\\u1EF1 \\u0111\\u1ED9ng \\u1EA9n b\\xECnh lu\\u1EADn cho trang\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 98,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Col, {\n          children: /*#__PURE__*/_jsxDEV(SelectPage, {\n            selectPage: selectPage,\n            valuePage: pageId\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 103,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        style: style,\n        children: [/*#__PURE__*/_jsxDEV(Switch, {\n          checkedChildren: /*#__PURE__*/_jsxDEV(CheckOutlined, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 108,\n            columnNumber: 42\n          }, this),\n          unCheckedChildren: /*#__PURE__*/_jsxDEV(CloseOutlined, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 109,\n            columnNumber: 44\n          }, this),\n          onChange: onChangeHideAllComment,\n          checked: hideAllComments,\n          style: style\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 107,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          children: \"\\u1EA8n t\\u1EA5t c\\u1EA3 b\\xECnh lu\\u1EADn\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 114,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [/*#__PURE__*/_jsxDEV(Switch, {\n          checkedChildren: /*#__PURE__*/_jsxDEV(CheckOutlined, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 118,\n            columnNumber: 42\n          }, this),\n          unCheckedChildren: /*#__PURE__*/_jsxDEV(CloseOutlined, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 119,\n            columnNumber: 44\n          }, this),\n          onChange: onChangeHidePhoneComments,\n          checked: hidePhoneComments,\n          style: style\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 117,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          children: \"Ch\\u1EC9 \\u1EA9n nh\\u1EEFng b\\xECnh lu\\u1EADn ch\\u1EE9a s\\u1ED1 \\u0111i\\u1EC7n tho\\u1EA1i\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 124,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 13\n    }, this);\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: renderContent()\n  }, void 0, false);\n};\n\n_s(Comment, \"34tdRyanmKVhkiXnCb3iOTKK/YY=\", false, function () {\n  return [useSelector, useSelector, useSelector, useSelector];\n});\n\n_c = Comment;\nexport default Comment;\n\nvar _c;\n\n$RefreshReg$(_c, \"Comment\");","map":{"version":3,"sources":["/Users/mac3/Desktop/workspace/FacebookClient/src/pages/settings/comment/index.tsx"],"names":["React","useState","useEffect","Switch","message","Row","Col","CheckOutlined","CloseOutlined","getFacebookPageSetting","updateFacebookPageSetting","useSelector","SelectPage","style","marginBottom","marginRight","Comment","store","state","token","auth","pages","fanpage","page","hideAllComments","setHideAllComment","hidePhoneComments","setHidePhoneComments","pageId","setPageId","_id","dataPage","setDataPage","fetchFacebookPageSetting","res","storeId","fbPageId","fbObjectId","accessToken","error","onChangeHideAllComment","value","data","success","onChangeHidePhoneComments","selectPage","pageSelected","Object","keys","map","key","find","p","renderContent","color","marginTop"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Switch, message, Row, Col } from 'antd';\nimport { CheckOutlined, CloseOutlined } from '@ant-design/icons';\nimport { getFacebookPageSetting, updateFacebookPageSetting } from '../../../api/setting';\nimport { useSelector } from 'react-redux';\nimport SelectPage from '../../report/form-filter/select-page';\n\nconst style = { marginBottom: 5, marginRight: 10 };\n\nconst Comment = (): JSX.Element => {\n    const store = useSelector((state: any) => state.store.store);\n    const token = useSelector((state: any) => state.auth.token);\n    const pages = useSelector((state: any) => state.fanpage.pages);\n    const page = useSelector((state: any) => state.fanpage.page);\n\n    const [hideAllComments, setHideAllComment] = useState(false);\n    const [hidePhoneComments, setHidePhoneComments] = useState(false);\n    const [pageId, setPageId] = useState(page._id);\n    const [dataPage, setDataPage] = useState(page);\n\n    useEffect(() => {\n        async function fetchFacebookPageSetting() {\n            try {\n                const res = await getFacebookPageSetting({\n                    storeId: store._id,\n                    fbPageId: dataPage.fbObjectId,\n                    token: token.accessToken,\n                });\n                if (res) {\n                    setHideAllComment(res.hideAllComments || false);\n                    setHidePhoneComments(res.hidePhoneComments || false);\n                } else {\n                    setHideAllComment(false);\n                    setHidePhoneComments(false);\n                }\n            } catch (error) {\n                message.error('Lỗi tải trang!');\n            }\n        }\n        fetchFacebookPageSetting();\n    }, [pageId]);\n\n    const onChangeHideAllComment = async (value: boolean) => {\n        try {\n            setHideAllComment(value);\n            if (value) {\n                setHidePhoneComments(!value);\n            }\n            await updateFacebookPageSetting({\n                storeId: store._id,\n                fbPageId: dataPage.fbObjectId,\n                token: token.accessToken,\n                data: {\n                    hideAllComments: value,\n                    hidePhoneComments: false,\n                },\n            });\n            message.success('Cài đặt thành công');\n        } catch (error) {\n            message.error('Cài đặt thất bại');\n        }\n    };\n\n    const onChangeHidePhoneComments = async (value: boolean) => {\n        try {\n            setHidePhoneComments(value);\n            if (value) {\n                setHideAllComment(!value);\n            }\n            await updateFacebookPageSetting({\n                storeId: store._id,\n                fbPageId: dataPage.fbObjectId,\n                token: token.accessToken,\n                data: {\n                    hideAllComments: false,\n                    hidePhoneComments: value,\n                },\n            });\n            message.success('Cài đặt thành công');\n        } catch (error) {\n            message.error('Cài đặt thất bại');\n        }\n    };\n\n    const selectPage = (pageId: string) => {\n        setPageId(pageId);\n        const pageSelected = Object.keys(pages)\n            .map((key: string) => pages[key])\n            .find((p: any) => p._id === pageId);\n        setDataPage(pageSelected);\n    };\n\n    const renderContent = () => {\n        return (\n            <div>\n                <Row gutter={15} style={style}>\n                    <Col>\n                        <p style={{ color: 'red', marginTop: 5 }}>\n                            Cài đặt tự động ẩn bình luận cho trang\n                        </p>\n                    </Col>\n                    <Col>\n                        <SelectPage selectPage={selectPage} valuePage={pageId} />\n                    </Col>\n                </Row>\n                <p style={style}>\n                    <Switch\n                        checkedChildren={<CheckOutlined />}\n                        unCheckedChildren={<CloseOutlined />}\n                        onChange={onChangeHideAllComment}\n                        checked={hideAllComments}\n                        style={style}\n                    />\n                    <span>Ẩn tất cả bình luận</span>\n                </p>\n                <p>\n                    <Switch\n                        checkedChildren={<CheckOutlined />}\n                        unCheckedChildren={<CloseOutlined />}\n                        onChange={onChangeHidePhoneComments}\n                        checked={hidePhoneComments}\n                        style={style}\n                    />\n                    <span>Chỉ ẩn những bình luận chứa số điện thoại</span>\n                </p>\n            </div>\n        );\n    };\n\n    return <>{renderContent()}</>;\n};\n\nexport default Comment;\n"]},"metadata":{},"sourceType":"module"}