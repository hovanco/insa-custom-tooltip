{"ast":null,"code":"var _jsxFileName = \"/Users/mac3/Desktop/workspace/FacebookClient/src/pages/conversation/conversation-detail/modal-chat.tsx\",\n    _s = $RefreshSig$();\n\nimport { Col, Input, message, Modal, Row, Space, Tooltip } from 'antd';\nimport { findLast, get, isObject } from 'lodash';\nimport moment from 'moment';\nimport React, { useEffect, useLayoutEffect, useRef, useState } from 'react';\nimport { useSelector } from 'react-redux';\nimport { loadConversation, loadMessages, sendPrivateReply, sendReply } from '../../../api/conversation-api';\nimport { ChatIcon, SendIcon } from '../../../assets/icon';\nimport { Loading } from '../../../components';\nimport useModal from '../../../hooks/use-modal';\nimport { useConversationDetail } from './context';\nimport MessageBubble from './message-bubble';\nimport ModalAnswers from './modal-answers';\nimport ModelEmoji from './modal-emoji';\nimport QuickmessageList from './quick-message-list';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst formatMessages = ({\n  arr,\n  type\n}) => arr.map(item => ({ ...item,\n  type\n}));\n\nconst ModalChat = ({\n  name,\n  comment\n}) => {\n  _s();\n\n  const [messages, setMessage] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const {\n    visible,\n    toggle\n  } = useModal();\n  const [disabled, setDisabled] = useState(true);\n  const [show, setShow] = useState(false);\n  const messagesEndRef = useRef(null);\n  const inputRefModal = useRef();\n  const conversation = useSelector(({\n    fanpage\n  }) => fanpage.conversation);\n  const page = useSelector(({\n    fanpage\n  }) => fanpage.page);\n  const originSocketMessage = useSelector(({\n    fanpage\n  }) => fanpage.originSocketMessage);\n  const store = useSelector(({\n    store\n  }) => store.store);\n  const token = useSelector(({\n    auth\n  }) => auth.token);\n  const {\n    textChat,\n    changeTextChat\n  } = useConversationDetail();\n\n  const toggleShowQuick = () => setShow(!show);\n\n  const scrollToBottom = () => {\n    if (messagesEndRef.current) {\n      messagesEndRef.current.scrollIntoView(false);\n    }\n  };\n\n  useEffect(() => {\n    if (originSocketMessage && originSocketMessage.type === 1 && get(originSocketMessage, 'from.id') === get(comment, 'from.id')) {\n      setMessage([...messages, originSocketMessage]);\n    }\n  }, [originSocketMessage]);\n  useEffect(() => {\n    const newDate = moment(new Date());\n    let createDate = moment(comment.created_time);\n\n    if (messages.length === 0 && newDate.diff(createDate, 'days', true) <= 1) {\n      return setDisabled(false);\n    }\n\n    if (messages.length > 0) {\n      const message = findLast(messages, o => o.from.id !== page.fbObjectId);\n\n      if (isObject(message)) {\n        createDate = moment(message.created_time);\n\n        if (newDate.diff(createDate, 'days', true) <= 1) {\n          return setDisabled(false);\n        }\n      }\n    }\n\n    setDisabled(true);\n  }, [messages]);\n  useEffect(() => {\n    if (visible) {\n      const fetchData = async () => {\n        const responses = await loadConversation({\n          storeId: store._id,\n          token: token.accessToken,\n          fbPageIds: [conversation.fbPageId],\n          query: `type=1&fbUserId=${comment.from.id}`\n        });\n\n        if (responses.data.length > 0) {\n          const dataMessage = await loadMessages({\n            storeId: store._id,\n            token: token.accessToken,\n            fbPageId: conversation.fbPageId,\n            fbObjectId: responses.data[0].fbObjectId\n          });\n          setMessage(formatMessages({\n            arr: dataMessage.data,\n            type: 1\n          }).reverse());\n          setLoading(false);\n        } else {\n          setLoading(false);\n        }\n      };\n\n      fetchData();\n    }\n  }, [visible]);\n  useLayoutEffect(() => scrollToBottom, [messages, loading]);\n  useLayoutEffect(() => {\n    if (inputRefModal.current) {\n      inputRefModal.current.focus();\n    }\n  }, [textChat]);\n\n  const renderMessages = () => {\n    if (loading) return /*#__PURE__*/_jsxDEV(Loading, {\n      full: true\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 29\n    }, this);\n    return messages.map(message => {\n      return /*#__PURE__*/_jsxDEV(MessageBubble, {\n        me: message.from.id === conversation.fbPageId,\n        userId: comment.from.id,\n        type: 1,\n        message: message\n      }, message.id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 17\n      }, this);\n    });\n  };\n\n  const handlePrivateReply = () => {\n    sendPrivateReply({\n      storeId: store._id,\n      fbPageId: conversation.fbPageId,\n      token: token.accessToken,\n      commentId: comment.id,\n      text: textChat\n    }).then(res => {\n      const newMessages = [...messages];\n      newMessages.push({\n        from: {\n          name: page.name,\n          email: '',\n          id: conversation.fbPageId\n        },\n        id: conversation.fbPageId,\n        created_time: `${new Date()}`,\n        type: 2,\n        message: textChat\n      });\n      setMessage(newMessages);\n    }).catch(error => {\n      message.error('Đã có lỗi xảy ra!');\n    });\n  };\n\n  const handleKeyPress = () => {\n    sendReply({\n      text: textChat,\n      fbPageId: conversation.fbPageId,\n      token: token.accessToken,\n      storeId: store._id,\n      id: conversation.fbUserId,\n      type: 1,\n      fbObjectId: conversation.fbObjectId\n    }).then(res => {\n      const message = {\n        from: {\n          email: '',\n          id: conversation.fbPageId,\n          name: page.name\n        },\n        id: conversation.fbPageId,\n        created_time: `${new Date()}`,\n        type: 1,\n        message: textChat\n      };\n      const newMessages = [...messages];\n      newMessages.push(message);\n      setMessage(newMessages);\n    }).catch(error => {\n      message.error('Đã có lỗi xảy ra!');\n    });\n  };\n\n  const sendMessage = isValid => {\n    if (show) {\n      return toggleShowQuick();\n    }\n\n    if (isValid) {\n      changeTextChat('');\n\n      if (messages.length > 0) {\n        return handleKeyPress();\n      }\n\n      return handlePrivateReply();\n    }\n\n    return null;\n  };\n\n  const handleSendMessage = () => {\n    const isValid = !show && textChat.trim();\n    sendMessage(isValid);\n  };\n\n  const handleEnterMessage = e => {\n    const isValid = e.shiftKey !== true && e.key === 'Enter';\n    sendMessage(isValid && !show && textChat.trim());\n  };\n\n  const onChangeText = e => {\n    if (e.target.value.length === 0) {\n      setShow(false);\n    }\n\n    if (e.target.value[0] === '/') {\n      setShow(true);\n    }\n\n    if (show) {\n      changeTextChat(e.target.value.trim());\n    } else {\n      changeTextChat(e.target.value);\n    }\n  };\n\n  const handleCancel = () => {\n    changeTextChat('');\n    toggle();\n  };\n\n  const placeholder = () => {\n    if (messages.length > 0) {\n      const message = findLast(messages, o => o.from.id !== page.fbObjectId);\n\n      if (!isObject(message)) {\n        return 'Bạn chỉ có thể tiếp tục nhắn tin sau khi nhận được phản hồi của khách hàng';\n      }\n    }\n\n    return disabled ? 'Bạn chỉ có thể phản hồi tin nhắn của khách hàng trong vòng 24h' : 'Viết tin nhắn....(Enter để gửi tin và Shift + Enter để xuống hàng)';\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Tooltip, {\n      placement: \"top\",\n      title: \"Nh\\u1EAFn tin\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        onClick: toggle,\n        className: \"bubble_action-item\",\n        children: /*#__PURE__*/_jsxDEV(ChatIcon, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 272,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 271,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 270,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Modal, {\n      title: `Nhắn tin đến: ${name}`,\n      visible: visible,\n      onCancel: handleCancel,\n      onOk: toggle,\n      footer: null,\n      bodyStyle: {\n        padding: '0'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"conversation-detail conversation-detail-modal\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"conversation-detail-list conversation-detail-list-modal\",\n          children: [renderMessages(), /*#__PURE__*/_jsxDEV(\"div\", {\n            ref: messagesEndRef\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 286,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 284,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 283,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"conversation-detail-action\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"action-bottom\",\n          children: /*#__PURE__*/_jsxDEV(Space, {\n            children: /*#__PURE__*/_jsxDEV(ModalAnswers, {\n              chat: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 293,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 292,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 291,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"box-reply\",\n          children: [show && /*#__PURE__*/_jsxDEV(QuickmessageList, {\n            chat: true,\n            toggle: toggleShowQuick,\n            textFilter: textChat\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 298,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(Row, {\n            align: \"middle\",\n            gutter: 10,\n            children: [/*#__PURE__*/_jsxDEV(Col, {\n              style: {\n                flex: 1\n              },\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"wrap-input\",\n                children: [/*#__PURE__*/_jsxDEV(Input, {\n                  ref: inputRefModal,\n                  autoFocus: true,\n                  onChange: onChangeText,\n                  onKeyPress: handleEnterMessage,\n                  className: \"input\",\n                  value: textChat,\n                  disabled: loading || disabled,\n                  placeholder: placeholder()\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 308,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"emoji-btn\",\n                  children: /*#__PURE__*/_jsxDEV(ModelEmoji, {\n                    chat: true\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 319,\n                    columnNumber: 41\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 318,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 307,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 306,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(Col, {\n              children: /*#__PURE__*/_jsxDEV(\"span\", {\n                className: textChat.length === 0 ? 'send-btn disable' : 'send-btn',\n                children: /*#__PURE__*/_jsxDEV(SendIcon, {\n                  style: {\n                    fontSize: 20\n                  },\n                  onClick: textChat.length === 0 ? null : handleSendMessage\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 329,\n                  columnNumber: 37\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 324,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 323,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 305,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 296,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 290,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 275,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true);\n};\n\n_s(ModalChat, \"ND7IZgzch7y9t5ScEFlnDYNcnvg=\", false, function () {\n  return [useModal, useSelector, useSelector, useSelector, useSelector, useSelector, useConversationDetail];\n});\n\n_c = ModalChat;\nexport default ModalChat;\n\nvar _c;\n\n$RefreshReg$(_c, \"ModalChat\");","map":{"version":3,"sources":["/Users/mac3/Desktop/workspace/FacebookClient/src/pages/conversation/conversation-detail/modal-chat.tsx"],"names":["Col","Input","message","Modal","Row","Space","Tooltip","findLast","get","isObject","moment","React","useEffect","useLayoutEffect","useRef","useState","useSelector","loadConversation","loadMessages","sendPrivateReply","sendReply","ChatIcon","SendIcon","Loading","useModal","useConversationDetail","MessageBubble","ModalAnswers","ModelEmoji","QuickmessageList","formatMessages","arr","type","map","item","ModalChat","name","comment","messages","setMessage","loading","setLoading","visible","toggle","disabled","setDisabled","show","setShow","messagesEndRef","inputRefModal","conversation","fanpage","page","originSocketMessage","store","token","auth","textChat","changeTextChat","toggleShowQuick","scrollToBottom","current","scrollIntoView","newDate","Date","createDate","created_time","length","diff","o","from","id","fbObjectId","fetchData","responses","storeId","_id","accessToken","fbPageIds","fbPageId","query","data","dataMessage","reverse","focus","renderMessages","handlePrivateReply","commentId","text","then","res","newMessages","push","email","catch","error","handleKeyPress","fbUserId","sendMessage","isValid","handleSendMessage","trim","handleEnterMessage","e","shiftKey","key","onChangeText","target","value","handleCancel","placeholder","padding","flex","fontSize"],"mappings":"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","sourcesContent":["import { Col, Input, message, Modal, Row, Space, Tooltip } from 'antd';\nimport { findLast, get, isObject } from 'lodash';\nimport moment from 'moment';\nimport React, { FC, useEffect, useLayoutEffect, useRef, useState } from 'react';\nimport { useSelector } from 'react-redux';\nimport {\n    loadConversation,\n    loadMessages,\n    sendPrivateReply,\n    sendReply,\n} from '../../../api/conversation-api';\nimport { ChatIcon, SendIcon } from '../../../assets/icon';\nimport { Loading } from '../../../components';\nimport useModal from '../../../hooks/use-modal';\nimport { IAuthState } from '../../../reducers/authState/authReducer';\nimport { IConversation, IFacebookState } from '../../../reducers/fanpageState/fanpageReducer';\nimport { IStoreState } from '../../../reducers/storeState/storeReducer';\nimport { Comment, Message, useConversationDetail } from './context';\nimport MessageBubble from './message-bubble';\nimport ModalAnswers from './modal-answers';\nimport ModelEmoji from './modal-emoji';\nimport QuickmessageList from './quick-message-list';\n\ninterface Props {\n    name: string;\n    comment: Comment;\n}\n\nconst formatMessages = ({ arr, type }: { arr: any[]; type: number }): any =>\n    arr.map((item: any) => ({ ...item, type }));\n\nconst ModalChat: FC<Props> = ({ name, comment }): JSX.Element => {\n    const [messages, setMessage] = useState<Message[]>([]);\n    const [loading, setLoading] = useState(true);\n    const { visible, toggle } = useModal();\n    const [disabled, setDisabled] = useState(true);\n    const [show, setShow] = useState(false);\n    const messagesEndRef = useRef<any>(null);\n    const inputRefModal = useRef<any>();\n\n    const conversation: IConversation = useSelector(\n        ({ fanpage }: { fanpage: IFacebookState }) => fanpage.conversation\n    );\n\n    const page: any = useSelector(({ fanpage }: { fanpage: IFacebookState }) => fanpage.page);\n\n    const originSocketMessage: any = useSelector(\n        ({ fanpage }: { fanpage: IFacebookState }) => fanpage.originSocketMessage\n    );\n\n    const store = useSelector(({ store }: { store: IStoreState }) => store.store);\n\n    const token: any = useSelector(({ auth }: { auth: IAuthState }) => auth.token);\n\n    const { textChat, changeTextChat } = useConversationDetail();\n    const toggleShowQuick = () => setShow(!show);\n\n    const scrollToBottom = () => {\n        if (messagesEndRef.current) {\n            messagesEndRef.current.scrollIntoView(false);\n        }\n    };\n\n    useEffect(() => {\n        if (\n            originSocketMessage &&\n            originSocketMessage.type === 1 &&\n            get(originSocketMessage, 'from.id') === get(comment, 'from.id')\n        ) {\n            setMessage([...messages, originSocketMessage]);\n        }\n    }, [originSocketMessage]);\n\n    useEffect(() => {\n        const newDate = moment(new Date());\n        let createDate = moment(comment.created_time);\n        if (messages.length === 0 && newDate.diff(createDate, 'days', true) <= 1) {\n            return setDisabled(false);\n        }\n\n        if (messages.length > 0) {\n            const message = findLast(messages, (o) => o.from.id !== page.fbObjectId);\n            if (isObject(message)) {\n                createDate = moment(message.created_time);\n\n                if (newDate.diff(createDate, 'days', true) <= 1) {\n                    return setDisabled(false);\n                }\n            }\n        }\n\n        setDisabled(true);\n    }, [messages]);\n\n    useEffect(() => {\n        if (visible) {\n            const fetchData = async () => {\n                const responses = await loadConversation({\n                    storeId: store._id,\n                    token: token.accessToken,\n                    fbPageIds: [conversation.fbPageId],\n                    query: `type=1&fbUserId=${comment.from.id}`,\n                });\n                if (responses.data.length > 0) {\n                    const dataMessage = await loadMessages({\n                        storeId: store._id,\n                        token: token.accessToken,\n                        fbPageId: conversation.fbPageId,\n                        fbObjectId: responses.data[0].fbObjectId,\n                    });\n                    setMessage(\n                        formatMessages({\n                            arr: dataMessage.data,\n                            type: 1,\n                        }).reverse()\n                    );\n                    setLoading(false);\n                } else {\n                    setLoading(false);\n                }\n            };\n            fetchData();\n        }\n    }, [visible]);\n\n    useLayoutEffect(() => scrollToBottom, [messages, loading]);\n\n    useLayoutEffect(() => {\n        if (inputRefModal.current) {\n            inputRefModal.current.focus();\n        }\n    }, [textChat]);\n\n    const renderMessages = () => {\n        if (loading) return <Loading full />;\n\n        return messages.map((message: any) => {\n            return (\n                <MessageBubble\n                    me={message.from.id === conversation.fbPageId}\n                    userId={comment.from.id}\n                    type={1}\n                    message={message}\n                    key={message.id}\n                />\n            );\n        });\n    };\n\n    const handlePrivateReply = () => {\n        sendPrivateReply({\n            storeId: store._id,\n            fbPageId: conversation.fbPageId,\n            token: token.accessToken,\n            commentId: comment.id,\n            text: textChat,\n        })\n            .then((res: any) => {\n                const newMessages = [...messages];\n                newMessages.push({\n                    from: {\n                        name: page.name,\n                        email: '',\n                        id: conversation.fbPageId,\n                    },\n                    id: conversation.fbPageId,\n                    created_time: `${new Date()}`,\n                    type: 2,\n                    message: textChat,\n                });\n                setMessage(newMessages);\n            })\n            .catch((error) => {\n                message.error('Đã có lỗi xảy ra!');\n            });\n    };\n\n    const handleKeyPress = () => {\n        sendReply({\n            text: textChat,\n            fbPageId: conversation.fbPageId,\n            token: token.accessToken,\n            storeId: store._id,\n            id: conversation.fbUserId,\n            type: 1,\n            fbObjectId: conversation.fbObjectId,\n        })\n            .then((res: any) => {\n                const message: Message = {\n                    from: {\n                        email: '',\n                        id: conversation.fbPageId,\n                        name: page.name,\n                    },\n                    id: conversation.fbPageId,\n                    created_time: `${new Date()}`,\n                    type: 1,\n                    message: textChat,\n                };\n                const newMessages = [...messages];\n                newMessages.push(message);\n                setMessage(newMessages);\n            })\n            .catch((error) => {\n                message.error('Đã có lỗi xảy ra!');\n            });\n    };\n\n    const sendMessage = (isValid: any) => {\n        if (show) {\n            return toggleShowQuick();\n        }\n\n        if (isValid) {\n            changeTextChat('');\n            if (messages.length > 0) {\n                return handleKeyPress();\n            }\n            return handlePrivateReply();\n        }\n        return null;\n    };\n\n    const handleSendMessage = () => {\n        const isValid = !show && textChat.trim();\n        sendMessage(isValid);\n    };\n\n    const handleEnterMessage = (e: any) => {\n        const isValid = e.shiftKey !== true && e.key === 'Enter';\n\n        sendMessage(isValid && !show && textChat.trim());\n    };\n\n    const onChangeText = (e: any) => {\n        if (e.target.value.length === 0) {\n            setShow(false);\n        }\n        if (e.target.value[0] === '/') {\n            setShow(true);\n        }\n\n        if (show) {\n            changeTextChat((e.target.value as string).trim());\n        } else {\n            changeTextChat(e.target.value as string);\n        }\n    };\n\n    const handleCancel = () => {\n        changeTextChat('');\n        toggle();\n    };\n\n    const placeholder = () => {\n        if (messages.length > 0) {\n            const message = findLast(messages, (o) => o.from.id !== page.fbObjectId);\n            if (!isObject(message)) {\n                return 'Bạn chỉ có thể tiếp tục nhắn tin sau khi nhận được phản hồi của khách hàng';\n            }\n        }\n\n        return disabled\n            ? 'Bạn chỉ có thể phản hồi tin nhắn của khách hàng trong vòng 24h'\n            : 'Viết tin nhắn....(Enter để gửi tin và Shift + Enter để xuống hàng)';\n    };\n\n    return (\n        <>\n            <Tooltip placement='top' title='Nhắn tin'>\n                <div onClick={toggle} className='bubble_action-item'>\n                    <ChatIcon />\n                </div>\n            </Tooltip>\n            <Modal\n                title={`Nhắn tin đến: ${name}`}\n                visible={visible}\n                onCancel={handleCancel}\n                onOk={toggle}\n                footer={null}\n                bodyStyle={{ padding: '0' }}\n            >\n                <div className='conversation-detail conversation-detail-modal'>\n                    <div className='conversation-detail-list conversation-detail-list-modal'>\n                        {renderMessages()}\n                        <div ref={messagesEndRef} />\n                    </div>\n                </div>\n\n                <div className='conversation-detail-action'>\n                    <div className='action-bottom'>\n                        <Space>\n                            <ModalAnswers chat={true} />\n                        </Space>\n                    </div>\n                    <div className='box-reply'>\n                        {show && (\n                            <QuickmessageList\n                                chat={true}\n                                toggle={toggleShowQuick}\n                                textFilter={textChat}\n                            />\n                        )}\n\n                        <Row align='middle' gutter={10}>\n                            <Col style={{ flex: 1 }}>\n                                <div className='wrap-input'>\n                                    <Input\n                                        ref={inputRefModal}\n                                        autoFocus\n                                        onChange={onChangeText}\n                                        onKeyPress={handleEnterMessage}\n                                        className='input'\n                                        value={textChat}\n                                        disabled={loading || disabled}\n                                        placeholder={placeholder()}\n                                    />\n                                    <div className='emoji-btn'>\n                                        <ModelEmoji chat={true} />\n                                    </div>\n                                </div>\n                            </Col>\n                            <Col>\n                                <span\n                                    className={\n                                        textChat.length === 0 ? 'send-btn disable' : 'send-btn'\n                                    }\n                                >\n                                    <SendIcon\n                                        style={{ fontSize: 20 }}\n                                        onClick={textChat.length === 0 ? null : handleSendMessage}\n                                    />\n                                </span>\n                            </Col>\n                        </Row>\n                    </div>\n                </div>\n            </Modal>\n        </>\n    );\n};\n\nexport default ModalChat;\n"]},"metadata":{},"sourceType":"module"}