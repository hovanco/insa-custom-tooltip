{"ast":null,"code":"var _jsxFileName = \"/Users/mac3/Desktop/workspace/FacebookClient/src/components/header-customer/index.tsx\",\n    _s = $RefreshSig$();\n\nimport { Layout, Menu } from 'antd';\nimport React, { useEffect, useState } from 'react';\nimport { useSelector } from 'react-redux';\nimport { Link, useLocation } from 'react-router-dom';\nimport { CameraIcon, CartIcon, ChartIcon, ChatGroupIcon, DoubleLeftIcon, DoubleRightIcon, OtherIcon } from '../../assets/icon';\nimport Logo from '../logo';\nimport { Scrollbars } from '../index';\nimport constants from '../../constants';\nimport './header.less';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst {\n  Sider\n} = Layout;\nconst {\n  SubMenu\n} = Menu;\n\nconst initialCollapsed = () => {\n  const collapsed_local = localStorage.getItem('collapsed_local');\n  if (!collapsed_local) return false;\n  return JSON.parse(collapsed_local);\n};\n\nconst CustomerHeader = () => {\n  _s();\n\n  const store = useSelector(state => state.store.store);\n  const location = useLocation();\n  const [keys, setKeys] = useState(['1']);\n  const [collapsed, setCollapsed] = useState(initialCollapsed());\n  const menuSidebar = [{\n    path: '/customer/conversation',\n    title: 'Hội thoại',\n    icon: /*#__PURE__*/_jsxDEV(ChatGroupIcon, {\n      className: \"icon\",\n      style: {\n        fontSize: 22\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 19\n    }, this),\n    key: '1'\n  }, {\n    path: '/customer/livestream',\n    title: 'Bán hàng livestream',\n    icon: /*#__PURE__*/_jsxDEV(CameraIcon, {\n      className: \"icon\",\n      style: {\n        fontSize: 15\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 19\n    }, this),\n    key: '2',\n    hide: !process.env.REACT_APP_SHOW_LIVESTREAM\n  }, {\n    title: 'Báo cáo',\n    icon: /*#__PURE__*/_jsxDEV(ChartIcon, {\n      className: \"icon\",\n      style: {\n        fontSize: 22\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 19\n    }, this),\n    key: '4',\n    sub_menu: true,\n    hide: !store || store.role >= 2\n  }, {\n    key: '4.1',\n    parent: '4',\n    title: 'Tương tác',\n    path: '/customer/report/conversation'\n  }, {\n    key: '4.2',\n    parent: '4',\n    title: 'Nhãn hội thoại',\n    path: '/customer/report/label'\n  }, {\n    key: '4.3',\n    parent: '4',\n    title: 'Doanh thu',\n    path: '/customer/report/revenue'\n  }, {\n    title: 'Cài đặt',\n    path: '/customer/other/setting',\n    icon: /*#__PURE__*/_jsxDEV(OtherIcon, {\n      className: \"icon\",\n      style: {\n        fontSize: 18\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 19\n    }, this),\n    key: '5',\n    hide: !store || store.role >= 2\n  }, {\n    title: 'Cửa hàng',\n    icon: /*#__PURE__*/_jsxDEV(CartIcon, {\n      className: \"icon\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 19\n    }, this),\n    key: 'core'\n  }];\n\n  const convertUrlToKey = url => {\n    if (url && url.indexOf('/customer/order/') !== -1) {\n      return ['3'];\n    }\n\n    if (url && url.indexOf('/customer/livestream') !== -1) {\n      return ['2'];\n    }\n\n    switch (url) {\n      case '/customer/conversation':\n        return ['1'];\n\n      case '/customer/livestream/scripts':\n        return ['2'];\n\n      case '/customer/other/warehouse':\n        return ['3'];\n\n      case '/customer/report/conversation':\n        return ['4', '4.1'];\n\n      case '/customer/report/label':\n        return ['4', '4.2'];\n\n      case '/customer/report/revenue':\n        return ['4', '4.3'];\n\n      case '/customer/other/setting':\n        return ['5'];\n\n      default:\n        return ['0'];\n    }\n  };\n\n  useEffect(() => {\n    setKeys(convertUrlToKey(location.pathname));\n  }, [location]);\n\n  const onSelect = ({\n    _,\n    key\n  }) => {\n    setKeys(key);\n  };\n\n  const onCollapse = value => {\n    localStorage.setItem('collapsed_local', JSON.stringify(value));\n    setCollapsed(value);\n  };\n\n  return /*#__PURE__*/_jsxDEV(Layout, {\n    className: \"header-customer\",\n    children: /*#__PURE__*/_jsxDEV(Sider, {\n      trigger: collapsed ? /*#__PURE__*/_jsxDEV(DoubleRightIcon, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 38\n      }, this) : /*#__PURE__*/_jsxDEV(DoubleLeftIcon, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 60\n      }, this),\n      className: \"sidebar\",\n      width: 250,\n      collapsible: true,\n      collapsed: collapsed,\n      onCollapse: onCollapse,\n      style: {\n        overflow: 'inherit'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: collapsed ? 'logo collapsed' : 'logo',\n        children: /*#__PURE__*/_jsxDEV(Logo, {\n          type: \"light\",\n          short: collapsed\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 142,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 141,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Scrollbars, {\n        style: {\n          width: 250\n        },\n        renderThumbVertical: props => /*#__PURE__*/_jsxDEV(\"div\", { ...props,\n          className: \"thumb-vertical\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 148,\n          columnNumber: 25\n        }, this),\n        children: /*#__PURE__*/_jsxDEV(Menu, {\n          selectedKeys: keys,\n          mode: \"inline\",\n          onSelect: onSelect,\n          children: menuSidebar.map(menu => {\n            if (menu.parent) return null;\n            if (menu.hide) return null;\n\n            if (menu.sub_menu) {\n              const menu_childs = menuSidebar.filter(item => item.parent === menu.key);\n              return /*#__PURE__*/_jsxDEV(SubMenu, {\n                icon: menu.icon,\n                title: menu.title,\n                popupClassName: \"header-customer-sub\",\n                children: menu_childs.map(item => /*#__PURE__*/_jsxDEV(Menu.Item, {\n                  children: /*#__PURE__*/_jsxDEV(Link, {\n                    to: item.path,\n                    children: item.title\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 168,\n                    columnNumber: 49\n                  }, this)\n                }, item.key, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 167,\n                  columnNumber: 45\n                }, this))\n              }, menu.key, false, {\n                fileName: _jsxFileName,\n                lineNumber: 160,\n                columnNumber: 37\n              }, this);\n            }\n\n            return /*#__PURE__*/_jsxDEV(Menu.Item, {\n              children: menu.key !== 'core' ? /*#__PURE__*/_jsxDEV(Link, {\n                to: menu.path,\n                children: [menu.icon, /*#__PURE__*/_jsxDEV(\"span\", {\n                  children: menu.title\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 181,\n                  columnNumber: 45\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 178,\n                columnNumber: 41\n              }, this) : /*#__PURE__*/_jsxDEV(Link, {\n                to: location => location.pathname,\n                onClick: () => window.open(constants.URL_STORE, '_blank'),\n                children: [menu.icon, /*#__PURE__*/_jsxDEV(\"span\", {\n                  children: menu.title\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 189,\n                  columnNumber: 45\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 183,\n                columnNumber: 41\n              }, this)\n            }, menu.key, false, {\n              fileName: _jsxFileName,\n              lineNumber: 176,\n              columnNumber: 33\n            }, this);\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 151,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 145,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 129,\n    columnNumber: 9\n  }, this);\n};\n\n_s(CustomerHeader, \"LXl+9jRsUp8zk0S9js/R1geCKLg=\", false, function () {\n  return [useSelector, useLocation];\n});\n\n_c = CustomerHeader;\nexport default CustomerHeader;\n\nvar _c;\n\n$RefreshReg$(_c, \"CustomerHeader\");","map":{"version":3,"sources":["/Users/mac3/Desktop/workspace/FacebookClient/src/components/header-customer/index.tsx"],"names":["Layout","Menu","React","useEffect","useState","useSelector","Link","useLocation","CameraIcon","CartIcon","ChartIcon","ChatGroupIcon","DoubleLeftIcon","DoubleRightIcon","OtherIcon","Logo","Scrollbars","constants","Sider","SubMenu","initialCollapsed","collapsed_local","localStorage","getItem","JSON","parse","CustomerHeader","store","state","location","keys","setKeys","collapsed","setCollapsed","menuSidebar","path","title","icon","fontSize","key","hide","process","env","REACT_APP_SHOW_LIVESTREAM","sub_menu","role","parent","convertUrlToKey","url","indexOf","pathname","onSelect","_","onCollapse","value","setItem","stringify","overflow","width","props","map","menu","menu_childs","filter","item","window","open","URL_STORE"],"mappings":"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","sourcesContent":["import { Layout, Menu } from 'antd';\nimport React, { FC, ReactElement, useEffect, useState } from 'react';\nimport { useSelector } from 'react-redux';\nimport { Link, useLocation } from 'react-router-dom';\nimport {\n    BoxIcon,\n    CameraIcon,\n    CartIcon,\n    ChartIcon,\n    ChatGroupIcon,\n    DoubleLeftIcon,\n    DoubleRightIcon,\n    OtherIcon,\n    OrderDraftIcon,\n} from '../../assets/icon';\nimport Logo from '../logo';\nimport { Scrollbars } from '../index';\nimport constants from '../../constants';\n\nimport './header.less';\n\nconst { Sider } = Layout;\nconst { SubMenu } = Menu;\n\ninterface MenuItem {\n    path?: string;\n    title: string;\n    icon?: ReactElement;\n    key: string;\n    sub_menu?: boolean;\n    hide?: boolean;\n    parent?: string;\n}\n\nconst initialCollapsed = (): boolean => {\n    const collapsed_local = localStorage.getItem('collapsed_local');\n    if (!collapsed_local) return false;\n\n    return JSON.parse(collapsed_local);\n};\n\nconst CustomerHeader: FC = (): JSX.Element => {\n    const store = useSelector((state: any) => state.store.store);\n    const location = useLocation();\n\n    const [keys, setKeys] = useState<string[]>(['1']);\n    const [collapsed, setCollapsed] = useState<boolean>(initialCollapsed());\n\n    const menuSidebar: MenuItem[] = [\n        {\n            path: '/customer/conversation',\n            title: 'Hội thoại',\n            icon: <ChatGroupIcon className='icon' style={{ fontSize: 22 }} />,\n            key: '1',\n        },\n        {\n            path: '/customer/livestream',\n            title: 'Bán hàng livestream',\n            icon: <CameraIcon className='icon' style={{ fontSize: 15 }} />,\n            key: '2',\n            hide: !process.env.REACT_APP_SHOW_LIVESTREAM,\n        },\n        {\n            title: 'Báo cáo',\n            icon: <ChartIcon className='icon' style={{ fontSize: 22 }} />,\n            key: '4',\n            sub_menu: true,\n            hide: !store || store.role >= 2,\n        },\n        { key: '4.1', parent: '4', title: 'Tương tác', path: '/customer/report/conversation' },\n        { key: '4.2', parent: '4', title: 'Nhãn hội thoại', path: '/customer/report/label' },\n        { key: '4.3', parent: '4', title: 'Doanh thu', path: '/customer/report/revenue' },\n        {\n            title: 'Cài đặt',\n            path: '/customer/other/setting',\n            icon: <OtherIcon className='icon' style={{ fontSize: 18 }} />,\n            key: '5',\n            hide: !store || store.role >= 2,\n        },\n        {\n            title: 'Cửa hàng',\n            icon: <CartIcon className='icon' />,\n            key: 'core',\n        },\n    ];\n\n    const convertUrlToKey = (url: string) => {\n        if (url && url.indexOf('/customer/order/') !== -1) {\n            return ['3'];\n        }\n        if (url && url.indexOf('/customer/livestream') !== -1) {\n            return ['2'];\n        }\n\n        switch (url) {\n            case '/customer/conversation':\n                return ['1'];\n            case '/customer/livestream/scripts':\n                return ['2'];\n            case '/customer/other/warehouse':\n                return ['3'];\n            case '/customer/report/conversation':\n                return ['4', '4.1'];\n            case '/customer/report/label':\n                return ['4', '4.2'];\n            case '/customer/report/revenue':\n                return ['4', '4.3'];\n            case '/customer/other/setting':\n                return ['5'];\n            default:\n                return ['0'];\n        }\n    };\n\n    useEffect(() => {\n        setKeys(convertUrlToKey(location.pathname));\n    }, [location]);\n\n    const onSelect = ({ _, key }: any) => {\n        setKeys(key);\n    };\n\n    const onCollapse = (value: boolean) => {\n        localStorage.setItem('collapsed_local', JSON.stringify(value));\n        setCollapsed(value);\n    };\n\n    return (\n        <Layout className='header-customer'>\n            <Sider\n                trigger={collapsed ? <DoubleRightIcon /> : <DoubleLeftIcon />}\n                className='sidebar'\n                width={250}\n                collapsible\n                collapsed={collapsed}\n                onCollapse={onCollapse}\n                style={{\n                    overflow: 'inherit',\n                }}\n            >\n                <div className={collapsed ? 'logo collapsed' : 'logo'}>\n                    <Logo type='light' short={collapsed} />\n                </div>\n\n                <Scrollbars\n                    style={{ width: 250 }}\n                    renderThumbVertical={(props: any) => (\n                        <div {...props} className='thumb-vertical' />\n                    )}\n                >\n                    <Menu selectedKeys={keys} mode='inline' onSelect={onSelect}>\n                        {menuSidebar.map((menu: MenuItem) => {\n                            if (menu.parent) return null;\n                            if (menu.hide) return null;\n                            if (menu.sub_menu) {\n                                const menu_childs = menuSidebar.filter(\n                                    (item) => item.parent === menu.key\n                                );\n                                return (\n                                    <SubMenu\n                                        key={menu.key}\n                                        icon={menu.icon}\n                                        title={menu.title}\n                                        popupClassName='header-customer-sub'\n                                    >\n                                        {menu_childs.map((item: any) => (\n                                            <Menu.Item key={item.key}>\n                                                <Link to={item.path}>{item.title}</Link>\n                                            </Menu.Item>\n                                        ))}\n                                    </SubMenu>\n                                );\n                            }\n\n                            return (\n                                <Menu.Item key={menu.key}>\n                                    { menu.key !== 'core' ?\n                                        <Link to={menu.path as string}>\n                                            {menu.icon}\n\n                                            <span>{menu.title}</span>\n                                        </Link> :\n                                        <Link\n                                            to={location => location.pathname}\n                                            onClick={() => window.open(constants.URL_STORE, '_blank')}\n                                        >\n                                            {menu.icon}\n\n                                            <span>{menu.title}</span>\n                                        </Link>\n                                    }\n                                </Menu.Item>\n                            );\n                        })}\n                    </Menu>\n                </Scrollbars>\n            </Sider>\n        </Layout>\n    );\n};\n\nexport default CustomerHeader;\n"]},"metadata":{},"sourceType":"module"}