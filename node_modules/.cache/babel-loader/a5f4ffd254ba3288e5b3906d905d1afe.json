{"ast":null,"code":"var _jsxFileName = \"/Users/mac3/Desktop/workspace/FacebookClient/src/pages/live-stream/script-step/videos.tsx\",\n    _s = $RefreshSig$();\n\nimport { Empty } from 'antd';\nimport React, { useEffect, useState } from 'react';\nimport { useSelector } from 'react-redux';\nimport livestreamApi from '../../../api/livestream-api';\nimport { Loading } from '../../../components';\nimport { useNewLiveStream } from './context';\nimport Video from './video';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Videos = props => {\n  _s();\n\n  const {\n    livestream\n  } = useNewLiveStream();\n  const store = useSelector(state => state.store.store);\n  const [loading, setLoading] = useState(true);\n  const [videos, setVideos] = useState([]);\n\n  const handleSelectVideo = videoId => {\n    props.selectVideo(videoId);\n  };\n\n  useEffect(() => {\n    async function loadVideos(fbPageId) {\n      try {\n        setLoading(true);\n        const response = await livestreamApi.getVideos({\n          storeId: store._id,\n          fbPageId\n        });\n        setVideos(response);\n        setLoading(false);\n      } catch (error) {\n        setLoading(false);\n      }\n    }\n\n    if (livestream.fbPageId) {\n      loadVideos(livestream.fbPageId);\n    }\n  }, []);\n  if (loading) return /*#__PURE__*/_jsxDEV(Loading, {}, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 44,\n    columnNumber: 25\n  }, this);\n  if (videos.length === 0) return /*#__PURE__*/_jsxDEV(Empty, {\n    image: Empty.PRESENTED_IMAGE_DEFAULT\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 45,\n    columnNumber: 37\n  }, this);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"videos\",\n    children: videos.map(video => /*#__PURE__*/_jsxDEV(Video, {\n      video: video,\n      active: video.id === props.videoId,\n      onClick: handleSelectVideo\n    }, video.id, false, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 17\n    }, this))\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 48,\n    columnNumber: 9\n  }, this);\n};\n\n_s(Videos, \"dTCajJ+hxgIKGuYxnyYqe8xKAic=\", false, function () {\n  return [useNewLiveStream, useSelector];\n});\n\n_c = Videos;\nexport default Videos;\n\nvar _c;\n\n$RefreshReg$(_c, \"Videos\");","map":{"version":3,"sources":["/Users/mac3/Desktop/workspace/FacebookClient/src/pages/live-stream/script-step/videos.tsx"],"names":["Empty","React","useEffect","useState","useSelector","livestreamApi","Loading","useNewLiveStream","Video","Videos","props","livestream","store","state","loading","setLoading","videos","setVideos","handleSelectVideo","videoId","selectVideo","loadVideos","fbPageId","response","getVideos","storeId","_id","error","length","PRESENTED_IMAGE_DEFAULT","map","video","id"],"mappings":";;;AAAA,SAASA,KAAT,QAAsB,MAAtB;AACA,OAAOC,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA2C,OAA3C;AACA,SAASC,WAAT,QAA4B,aAA5B;AACA,OAAOC,aAAP,MAA0B,6BAA1B;AACA,SAASC,OAAT,QAAwB,qBAAxB;AACA,SAASC,gBAAT,QAAiC,WAAjC;AACA,OAAOC,KAAP,MAAkB,SAAlB;;;AAOA,MAAMC,MAAM,GAAIC,KAAD,IAAkB;AAAA;;AAC7B,QAAM;AAAEC,IAAAA;AAAF,MAAiBJ,gBAAgB,EAAvC;AACA,QAAMK,KAAK,GAAGR,WAAW,CAAES,KAAD,IAAgBA,KAAK,CAACD,KAAN,CAAYA,KAA7B,CAAzB;AACA,QAAM,CAACE,OAAD,EAAUC,UAAV,IAAwBZ,QAAQ,CAAC,IAAD,CAAtC;AACA,QAAM,CAACa,MAAD,EAASC,SAAT,IAAsBd,QAAQ,CAAC,EAAD,CAApC;;AAEA,QAAMe,iBAAiB,GAAIC,OAAD,IAAqB;AAC3CT,IAAAA,KAAK,CAACU,WAAN,CAAkBD,OAAlB;AACH,GAFD;;AAIAjB,EAAAA,SAAS,CAAC,MAAM;AACZ,mBAAemB,UAAf,CAA0BC,QAA1B,EAAyC;AACrC,UAAI;AACAP,QAAAA,UAAU,CAAC,IAAD,CAAV;AACA,cAAMQ,QAAQ,GAAG,MAAMlB,aAAa,CAACmB,SAAd,CAAwB;AAC3CC,UAAAA,OAAO,EAAEb,KAAK,CAACc,GAD4B;AAE3CJ,UAAAA;AAF2C,SAAxB,CAAvB;AAIAL,QAAAA,SAAS,CAACM,QAAD,CAAT;AACAR,QAAAA,UAAU,CAAC,KAAD,CAAV;AACH,OARD,CAQE,OAAOY,KAAP,EAAc;AACZZ,QAAAA,UAAU,CAAC,KAAD,CAAV;AACH;AACJ;;AAED,QAAIJ,UAAU,CAACW,QAAf,EAAyB;AACrBD,MAAAA,UAAU,CAACV,UAAU,CAACW,QAAZ,CAAV;AACH;AACJ,GAlBQ,EAkBN,EAlBM,CAAT;AAoBA,MAAIR,OAAJ,EAAa,oBAAO,QAAC,OAAD;AAAA;AAAA;AAAA;AAAA,UAAP;AACb,MAAIE,MAAM,CAACY,MAAP,KAAkB,CAAtB,EAAyB,oBAAO,QAAC,KAAD;AAAO,IAAA,KAAK,EAAE5B,KAAK,CAAC6B;AAApB;AAAA;AAAA;AAAA;AAAA,UAAP;AAEzB,sBACI;AAAK,IAAA,SAAS,EAAC,QAAf;AAAA,cACKb,MAAM,CAACc,GAAP,CAAYC,KAAD,iBACR,QAAC,KAAD;AAEI,MAAA,KAAK,EAAEA,KAFX;AAGI,MAAA,MAAM,EAAEA,KAAK,CAACC,EAAN,KAAatB,KAAK,CAACS,OAH/B;AAII,MAAA,OAAO,EAAED;AAJb,OACSa,KAAK,CAACC,EADf;AAAA;AAAA;AAAA;AAAA,YADH;AADL;AAAA;AAAA;AAAA;AAAA,UADJ;AAYH,CA7CD;;GAAMvB,M;UACqBF,gB,EACTH,W;;;KAFZK,M;AA+CN,eAAeA,MAAf","sourcesContent":["import { Empty } from 'antd';\nimport React, { useEffect, useState } from 'react';\nimport { useSelector } from 'react-redux';\nimport livestreamApi from '../../../api/livestream-api';\nimport { Loading } from '../../../components';\nimport { useNewLiveStream } from './context';\nimport Video from './video';\n\ninterface Props {\n    videoId?: string;\n    selectVideo: (videoId: string) => void;\n}\n\nconst Videos = (props: Props) => {\n    const { livestream } = useNewLiveStream();\n    const store = useSelector((state: any) => state.store.store);\n    const [loading, setLoading] = useState(true);\n    const [videos, setVideos] = useState([]);\n\n    const handleSelectVideo = (videoId: string) => {\n        props.selectVideo(videoId);\n    };\n\n    useEffect(() => {\n        async function loadVideos(fbPageId: any) {\n            try {\n                setLoading(true);\n                const response = await livestreamApi.getVideos({\n                    storeId: store._id,\n                    fbPageId,\n                });\n                setVideos(response);\n                setLoading(false);\n            } catch (error) {\n                setLoading(false);\n            }\n        }\n\n        if (livestream.fbPageId) {\n            loadVideos(livestream.fbPageId);\n        }\n    }, []);\n\n    if (loading) return <Loading />;\n    if (videos.length === 0) return <Empty image={Empty.PRESENTED_IMAGE_DEFAULT} />;\n\n    return (\n        <div className='videos'>\n            {videos.map((video: any) => (\n                <Video\n                    key={video.id}\n                    video={video}\n                    active={video.id === props.videoId}\n                    onClick={handleSelectVideo}\n                />\n            ))}\n        </div>\n    );\n};\n\nexport default Videos;\n"]},"metadata":{},"sourceType":"module"}