{"ast":null,"code":"var _jsxFileName = \"/Users/mac3/Desktop/workspace/FacebookClient/src/pages/live-stream/script-step/add-product.tsx\",\n    _s = $RefreshSig$();\n\nimport { PlusCircleOutlined } from '@ant-design/icons';\nimport { Button, Col, Form, Input, InputNumber, Modal, Row, message } from 'antd';\nimport { pick } from 'lodash';\nimport React, { useState } from 'react';\nimport { useSelector } from 'react-redux';\nimport { createProductRequest } from '../../../api/product-api';\nimport useModal from '../../../hooks/use-modal';\nimport { formatterInput, parserInput } from '../../../utils/format-money';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst AddProduct = props => {\n  _s();\n\n  const {\n    visible,\n    toggle\n  } = useModal();\n  const [loading, setLoading] = useState(false);\n  const token = useSelector(state => state.auth.token);\n  const store = useSelector(state => state.store.store);\n\n  const handleSubmit = async values => {\n    try {\n      setLoading(true);\n      const response = await createProductRequest({\n        token: token.accessToken,\n        storeId: store._id,\n        data: values\n      });\n      const product = pick(response, ['name', 'price', '_id', 'images']);\n      props.addProduct(product);\n      setLoading(false);\n      toggle();\n    } catch (error) {\n      message.error('Lỗi tạo sản phẩm');\n      setLoading(false);\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"a\", {\n      onClick: toggle,\n      className: \"add-product-toogle-btn\",\n      children: [/*#__PURE__*/_jsxDEV(PlusCircleOutlined, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 17\n      }, this), \" Th\\xEAm s\\u1EA3n ph\\u1EA9m\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Modal, {\n      visible: visible,\n      onCancel: toggle,\n      title: \"Th\\xEAm s\\u1EA3n ph\\u1EA9m\",\n      footer: null,\n      destroyOnClose: true,\n      children: /*#__PURE__*/_jsxDEV(Form, {\n        layout: \"vertical\",\n        onFinish: handleSubmit,\n        children: [/*#__PURE__*/_jsxDEV(Form.Item, {\n          label: \"T\\xEAn s\\u1EA3n ph\\u1EA9m\",\n          name: \"name\",\n          rules: [{\n            required: true,\n            message: 'Điền tên sản phẩm'\n          }],\n          children: /*#__PURE__*/_jsxDEV(Input, {\n            placeholder: \"\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 61,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Form.Item, {\n          label: \"Gi\\xE1 (vnd)\",\n          name: \"price\",\n          rules: [{\n            required: true,\n            message: 'Điền giá sản phẩm',\n            type: 'number'\n          }],\n          children: /*#__PURE__*/_jsxDEV(InputNumber, {\n            style: {\n              width: '100%'\n            },\n            formatter: formatterInput,\n            parser: parserInput\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 75,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Form.Item, {\n          label: \"Kh\\u1ED1i l\\u01B0\\u1EE3ng (gram)\",\n          name: \"weight\",\n          rules: [{\n            required: true,\n            message: 'Khối lượng sản phẩm tối thiểu 10g',\n            type: 'number',\n            min: 10,\n            max: 1000000\n          }],\n          children: /*#__PURE__*/_jsxDEV(InputNumber, {\n            style: {\n              width: '100%'\n            },\n            formatter: formatterInput,\n            parser: parserInput\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 95,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Form.Item, {\n          children: /*#__PURE__*/_jsxDEV(Row, {\n            gutter: 15,\n            justify: \"end\",\n            children: [/*#__PURE__*/_jsxDEV(Col, {\n              children: /*#__PURE__*/_jsxDEV(Button, {\n                onClick: toggle,\n                children: \"H\\u1EE7y\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 105,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 104,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(Col, {\n              children: /*#__PURE__*/_jsxDEV(Button, {\n                type: \"primary\",\n                htmlType: \"submit\",\n                loading: loading,\n                children: \"T\\u1EA1o s\\u1EA3n ph\\u1EA9m\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 108,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 107,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 103,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 43,\n    columnNumber: 9\n  }, this);\n};\n\n_s(AddProduct, \"EYJvIMnaRVcwHGiK1gK/QP4tKpw=\", false, function () {\n  return [useModal, useSelector, useSelector];\n});\n\n_c = AddProduct;\nexport default AddProduct;\n\nvar _c;\n\n$RefreshReg$(_c, \"AddProduct\");","map":{"version":3,"sources":["/Users/mac3/Desktop/workspace/FacebookClient/src/pages/live-stream/script-step/add-product.tsx"],"names":["PlusCircleOutlined","Button","Col","Form","Input","InputNumber","Modal","Row","message","pick","React","useState","useSelector","createProductRequest","useModal","formatterInput","parserInput","AddProduct","props","visible","toggle","loading","setLoading","token","state","auth","store","handleSubmit","values","response","accessToken","storeId","_id","data","product","addProduct","error","required","type","width","min","max"],"mappings":"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","sourcesContent":["import { PlusCircleOutlined } from '@ant-design/icons';\nimport { Button, Col, Form, Input, InputNumber, Modal, Row, message } from 'antd';\nimport { Store } from 'antd/lib/form/interface';\nimport { pick } from 'lodash';\nimport React, { useState } from 'react';\nimport { useSelector } from 'react-redux';\nimport { createProductRequest } from '../../../api/product-api';\nimport useModal from '../../../hooks/use-modal';\nimport { formatterInput, parserInput } from '../../../utils/format-money';\n\ninterface Props {\n    addProduct: (product: any) => void;\n}\n\nconst AddProduct = (props: Props) => {\n    const { visible, toggle } = useModal();\n    const [loading, setLoading] = useState(false);\n    const token: any = useSelector((state: any) => state.auth.token);\n    const store = useSelector((state: any) => state.store.store);\n\n    const handleSubmit = async (values: Store) => {\n        try {\n            setLoading(true);\n\n            const response = await createProductRequest({\n                token: token.accessToken,\n                storeId: store._id,\n                data: values,\n            });\n\n            const product = pick(response, ['name', 'price', '_id', 'images']);\n\n            props.addProduct(product);\n            setLoading(false);\n            toggle();\n        } catch (error) {\n            message.error('Lỗi tạo sản phẩm');\n            setLoading(false);\n        }\n    };\n\n    return (\n        <div>\n            <a onClick={toggle} className='add-product-toogle-btn'>\n                <PlusCircleOutlined /> Thêm sản phẩm\n            </a>\n\n            <Modal\n                visible={visible}\n                onCancel={toggle}\n                title='Thêm sản phẩm'\n                footer={null}\n                destroyOnClose\n            >\n                <Form layout='vertical' onFinish={handleSubmit}>\n                    <Form.Item\n                        label='Tên sản phẩm'\n                        name='name'\n                        rules={[{ required: true, message: 'Điền tên sản phẩm' }]}\n                    >\n                        <Input placeholder='' />\n                    </Form.Item>\n\n                    <Form.Item\n                        label='Giá (vnd)'\n                        name='price'\n                        rules={[\n                            {\n                                required: true,\n                                message: 'Điền giá sản phẩm',\n                                type: 'number',\n                            },\n                        ]}\n                    >\n                        <InputNumber\n                            style={{ width: '100%' }}\n                            formatter={formatterInput}\n                            parser={parserInput}\n                        />\n                    </Form.Item>\n\n                    <Form.Item\n                        label='Khối lượng (gram)'\n                        name='weight'\n                        rules={[\n                            {\n                                required: true,\n                                message: 'Khối lượng sản phẩm tối thiểu 10g',\n                                type: 'number',\n                                min: 10,\n                                max: 1000000,\n                            },\n                        ]}\n                    >\n                        <InputNumber\n                            style={{ width: '100%' }}\n                            formatter={formatterInput}\n                            parser={parserInput}\n                        />\n                    </Form.Item>\n\n                    <Form.Item>\n                        <Row gutter={15} justify='end'>\n                            <Col>\n                                <Button onClick={toggle}>Hủy</Button>\n                            </Col>\n                            <Col>\n                                <Button type='primary' htmlType='submit' loading={loading}>\n                                    Tạo sản phẩm\n                                </Button>\n                            </Col>\n                        </Row>\n                    </Form.Item>\n                </Form>\n            </Modal>\n        </div>\n    );\n};\n\nexport default AddProduct;\n"]},"metadata":{},"sourceType":"module"}