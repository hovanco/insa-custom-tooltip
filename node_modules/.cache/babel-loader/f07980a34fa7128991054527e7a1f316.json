{"ast":null,"code":"var _jsxFileName = \"/Users/mac3/Desktop/workspace/FacebookClient/src/pages/connect-facebook/connect-facebook-card.tsx\",\n    _s = $RefreshSig$();\n\nimport { FacebookFilled } from '@ant-design/icons';\nimport { Alert, Button, Card } from 'antd';\nimport React, { useState, useEffect } from 'react';\nimport ReactFacebookLogin from 'react-facebook-login';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { FACEBOOK_APP_ID, FACEBOOK_SCOPE } from '../../configs/vars';\nimport { connectFanpageAction } from '../../reducers/fanpageState/fanpageAction';\nimport fanpageTypes from '../../reducers/fanpageState/fanpageTypes';\nimport { useLocation } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst ConnectFacebookCard = () => {\n  _s();\n\n  let location = useLocation();\n  const [loading, setLoading] = useState(false);\n  const dispatch = useDispatch();\n  const error = useSelector(state => state.fanpage.error);\n\n  const handleConnnectFanpage = async (response = {}) => {\n    setLoading(true);\n    const {\n      accessToken\n    } = response;\n    await dispatch(connectFanpageAction({\n      shortLiveToken: accessToken\n    }));\n    setLoading(false);\n  };\n\n  const removeError = () => {\n    dispatch({\n      type: fanpageTypes.REMOVE_ERROR_LOAD_FANPAGES\n    });\n  };\n\n  useEffect(() => {\n    removeError();\n  }, [location]);\n  const cssClass = 'ant-btn ant-btn-primary ant-btn-lg ant-btn-block';\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      maxWidth: 350,\n      width: '100%'\n    },\n    children: [error && /*#__PURE__*/_jsxDEV(Alert, {\n      message: \"L\\u1ED7i k\\u1EBFt n\\u1ED1i\",\n      description: \"T\\xE0i kho\\u1EA3n facebook \\u0111\\xE3 \\u0111\\u01B0\\u1EE3c s\\u1EED d\\u1EE5ng, vui l\\xF2ng ch\\u1ECDn t\\xE0i kho\\u1EA3n kh\\xE1c\",\n      type: \"error\",\n      showIcon: true,\n      closable: true,\n      onClose: removeError\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(Card, {\n      style: {\n        width: 350\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          textAlign: 'center',\n          marginBottom: 30\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"title-form\",\n          children: \"K\\u1EBFt n\\u1ED1i fanpage\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"B\\u1EA1n c\\u1EA7n k\\u1EBFt n\\u1ED1i v\\u1EDBi facebook \\u0111\\u1EC3 s\\u1EED d\\u1EE5ng\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 17\n      }, this), loading ? /*#__PURE__*/_jsxDEV(Button, {\n        type: \"primary\",\n        block: true,\n        size: \"large\",\n        loading: true,\n        children: \"\\u0110ang k\\u1EBFt n\\u1ED1i v\\u1EDBi facebook\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 21\n      }, this) : /*#__PURE__*/_jsxDEV(ReactFacebookLogin, {\n        appId: FACEBOOK_APP_ID,\n        icon: /*#__PURE__*/_jsxDEV(FacebookFilled, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 31\n        }, this),\n        size: \"small\",\n        textButton: \" K\\u1EBFt n\\u1ED1i fanpage\",\n        autoLoad: false,\n        fields: \"name,email,picture\",\n        scope: FACEBOOK_SCOPE,\n        callback: handleConnnectFanpage,\n        cssClass: cssClass,\n        isMobile: true,\n        disableMobileRedirect: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 37,\n    columnNumber: 9\n  }, this);\n};\n\n_s(ConnectFacebookCard, \"pEX99FsLJDf10ZfwakJHayJI11g=\", false, function () {\n  return [useLocation, useDispatch, useSelector];\n});\n\n_c = ConnectFacebookCard;\nexport default ConnectFacebookCard;\n\nvar _c;\n\n$RefreshReg$(_c, \"ConnectFacebookCard\");","map":{"version":3,"sources":["/Users/mac3/Desktop/workspace/FacebookClient/src/pages/connect-facebook/connect-facebook-card.tsx"],"names":["FacebookFilled","Alert","Button","Card","React","useState","useEffect","ReactFacebookLogin","useDispatch","useSelector","FACEBOOK_APP_ID","FACEBOOK_SCOPE","connectFanpageAction","fanpageTypes","useLocation","ConnectFacebookCard","location","loading","setLoading","dispatch","error","state","fanpage","handleConnnectFanpage","response","accessToken","shortLiveToken","removeError","type","REMOVE_ERROR_LOAD_FANPAGES","cssClass","maxWidth","width","textAlign","marginBottom"],"mappings":"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","sourcesContent":["import { FacebookFilled } from '@ant-design/icons';\nimport { Alert, Button, Card } from 'antd';\nimport React, { FC, useState, useEffect } from 'react';\nimport ReactFacebookLogin from 'react-facebook-login';\nimport { useDispatch, useSelector } from 'react-redux';\n\nimport { FACEBOOK_APP_ID, FACEBOOK_SCOPE } from '../../configs/vars';\nimport { connectFanpageAction } from '../../reducers/fanpageState/fanpageAction';\nimport fanpageTypes from '../../reducers/fanpageState/fanpageTypes';\nimport { useLocation } from 'react-router-dom';\n\nconst ConnectFacebookCard: FC = (): JSX.Element => {\n    let location = useLocation();\n\n    const [loading, setLoading] = useState<boolean>(false);\n    const dispatch = useDispatch();\n    const error = useSelector((state: any) => state.fanpage.error);\n\n    const handleConnnectFanpage = async (response: any = {}) => {\n        setLoading(true);\n\n        const { accessToken } = response;\n        await dispatch(connectFanpageAction({ shortLiveToken: accessToken }));\n        setLoading(false);\n    };\n\n    const removeError = () => {\n        dispatch({ type: fanpageTypes.REMOVE_ERROR_LOAD_FANPAGES });\n    };\n\n    useEffect(() => {\n        removeError();\n    }, [location]);\n\n    const cssClass = 'ant-btn ant-btn-primary ant-btn-lg ant-btn-block';\n    return (\n        <div style={{ maxWidth: 350, width: '100%' }}>\n            {error && (\n                <Alert\n                    message='Lỗi kết nối'\n                    description='Tài khoản facebook đã được sử dụng, vui lòng chọn tài khoản khác'\n                    type='error'\n                    showIcon\n                    closable\n                    onClose={removeError}\n                />\n            )}\n\n            <Card style={{ width: 350 }}>\n                <div style={{ textAlign: 'center', marginBottom: 30 }}>\n                    <h3 className='title-form'>Kết nối fanpage</h3>\n\n                    <p>Bạn cần kết nối với facebook để sử dụng</p>\n                </div>\n                {loading ? (\n                    <Button type='primary' block size='large' loading>\n                        Đang kết nối với facebook\n                    </Button>\n                ) : (\n                    <ReactFacebookLogin\n                        appId={FACEBOOK_APP_ID}\n                        icon={<FacebookFilled />}\n                        size='small'\n                        textButton=' Kết nối fanpage'\n                        autoLoad={false}\n                        fields='name,email,picture'\n                        scope={FACEBOOK_SCOPE}\n                        callback={handleConnnectFanpage}\n                        cssClass={cssClass}\n                        isMobile\n                        disableMobileRedirect\n                    />\n                )}\n            </Card>\n        </div>\n    );\n};\n\nexport default ConnectFacebookCard;\n"]},"metadata":{},"sourceType":"module"}