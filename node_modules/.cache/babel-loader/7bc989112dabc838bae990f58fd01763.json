{"ast":null,"code":"var _jsxFileName = \"/Users/mac3/Desktop/workspace/FacebookClient/src/pages/settings/quick-message/modal-copy-message.tsx\",\n    _s = $RefreshSig$();\n\nimport { CloseOutlined, CopyOutlined } from '@ant-design/icons';\nimport { Button, Form, message, Modal, Radio, Select, Space, Checkbox } from 'antd';\nimport { filter } from 'lodash';\nimport React, { useState } from 'react';\nimport { useSelector } from 'react-redux';\nimport * as settingApi from '../../../api/setting';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst {\n  Option\n} = Select;\n\nfunction QuickMessageModal({\n  visible,\n  toggle,\n  pageId,\n  storeId,\n  quickAnswerIds\n}) {\n  _s();\n\n  const [loading, setLoading] = useState(false);\n  const pages = useSelector(state => state.fanpage.pages);\n  const quickMessages = useSelector(state => state.setting.quickMessage);\n  const page = pages[pageId];\n\n  const handleSubmit = async val => {\n    setLoading(true);\n\n    try {\n      const response = await settingApi.cloneQuickMessage({\n        storeId,\n        pageId: page.fbObjectId,\n        data: {\n          fbPageId: val.fbPageId,\n          copyAll: val.copyAll,\n          replace: val.replace === 1,\n          quickAnswerIds\n        }\n      });\n      message.success('Sao chép thành công');\n      toggle();\n      setLoading(false);\n    } catch (error) {\n      message.error('Sao chép thất bại');\n      setLoading(false);\n    }\n  };\n\n  const filter_pages = filter(pages, page => page._id !== pageId);\n  return /*#__PURE__*/_jsxDEV(Modal, {\n    visible: visible,\n    title: \"Copy tin nh\\u1EAFn nhanh sang page kh\\xE1c\",\n    destroyOnClose: true,\n    onCancel: toggle,\n    footer: null,\n    children: /*#__PURE__*/_jsxDEV(Form, {\n      className: \"quick-message-form\",\n      onFinish: handleSubmit,\n      layout: \"vertical\",\n      initialValues: {\n        fbPageId: filter_pages.length > 0 ? filter_pages[0].fbObjectId : undefined,\n        replace: 1,\n        copyAll: quickAnswerIds.length === 0\n      },\n      children: [/*#__PURE__*/_jsxDEV(Form.Item, {\n        name: \"fbPageId\",\n        label: \"Ch\\u1ECDn page\",\n        rules: [{\n          required: true,\n          message: 'Chọn page.'\n        }],\n        children: /*#__PURE__*/_jsxDEV(Select, {\n          children: filter_pages.map(page => /*#__PURE__*/_jsxDEV(Option, {\n            value: page.fbObjectId,\n            children: page.name\n          }, page._id, false, {\n            fileName: _jsxFileName,\n            lineNumber: 84,\n            columnNumber: 29\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Form.Item, {\n        name: \"replace\",\n        children: /*#__PURE__*/_jsxDEV(Radio.Group, {\n          children: [/*#__PURE__*/_jsxDEV(Radio, {\n            value: 1,\n            children: \"Thay th\\u1EBF danh s\\xE1ch \\u0111\\xE3 c\\xF3\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 92,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Radio, {\n            value: 2,\n            children: \"Th\\xEAm m\\u1EDBi v\\xE0o danh s\\xE1ch \\u0111\\xE3 c\\xF3\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 93,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Form.Item, {\n        name: \"copyAll\",\n        valuePropName: \"checked\",\n        children: /*#__PURE__*/_jsxDEV(Checkbox, {\n          children: \"Sao ch\\xE9p t\\u1EA5t c\\u1EA3\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Form.Item, {\n        noStyle: true,\n        children: /*#__PURE__*/_jsxDEV(Space, {\n          children: [/*#__PURE__*/_jsxDEV(Button, {\n            icon: /*#__PURE__*/_jsxDEV(CloseOutlined, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 103,\n              columnNumber: 39\n            }, this),\n            onClick: toggle,\n            children: \"Hu\\u1EF7\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 103,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            htmlType: \"submit\",\n            loading: loading,\n            type: \"primary\",\n            icon: /*#__PURE__*/_jsxDEV(CopyOutlined, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 110,\n              columnNumber: 35\n            }, this),\n            children: \"Sao ch\\xE9p\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 106,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 60,\n    columnNumber: 9\n  }, this);\n}\n\n_s(QuickMessageModal, \"4Hzs6VZYmsNuC1QDpUDetGoomzg=\", false, function () {\n  return [useSelector, useSelector];\n});\n\n_c = QuickMessageModal;\nexport default QuickMessageModal;\n\nvar _c;\n\n$RefreshReg$(_c, \"QuickMessageModal\");","map":{"version":3,"sources":["/Users/mac3/Desktop/workspace/FacebookClient/src/pages/settings/quick-message/modal-copy-message.tsx"],"names":["CloseOutlined","CopyOutlined","Button","Form","message","Modal","Radio","Select","Space","Checkbox","filter","React","useState","useSelector","settingApi","Option","QuickMessageModal","visible","toggle","pageId","storeId","quickAnswerIds","loading","setLoading","pages","state","fanpage","quickMessages","setting","quickMessage","page","handleSubmit","val","response","cloneQuickMessage","fbObjectId","data","fbPageId","copyAll","replace","success","error","filter_pages","_id","length","undefined","required","map","name"],"mappings":"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","sourcesContent":["import { CloseOutlined, CopyOutlined } from '@ant-design/icons';\nimport { Button, Form, message, Modal, Radio, Select, Space, Checkbox } from 'antd';\nimport { Store } from 'antd/lib/form/interface';\nimport { filter } from 'lodash';\nimport React, { useState } from 'react';\nimport { useSelector } from 'react-redux';\n\nimport * as settingApi from '../../../api/setting';\nimport { Page } from '../../../reducers/fanpageState/fanpageReducer';\n\ninterface IProps {\n    visible: boolean;\n    toggle: () => void;\n    pageId: string;\n    storeId: string;\n    quickAnswerIds: string[];\n}\n\nconst { Option } = Select;\n\nfunction QuickMessageModal({\n    visible,\n    toggle,\n    pageId,\n    storeId,\n    quickAnswerIds,\n}: IProps): JSX.Element {\n    const [loading, setLoading] = useState(false);\n    const pages = useSelector((state: any) => state.fanpage.pages);\n    const quickMessages = useSelector((state: any) => state.setting.quickMessage);\n\n    const page = pages[pageId] as Page;\n\n    const handleSubmit = async (val: Store) => {\n        setLoading(true);\n\n        try {\n            const response = await settingApi.cloneQuickMessage({\n                storeId,\n                pageId: page.fbObjectId,\n                data: {\n                    fbPageId: val.fbPageId,\n                    copyAll: val.copyAll,\n                    replace: val.replace === 1,\n                    quickAnswerIds,\n                },\n            });\n            message.success('Sao chép thành công');\n            toggle();\n            setLoading(false);\n        } catch (error) {\n            message.error('Sao chép thất bại');\n            setLoading(false);\n        }\n    };\n\n    const filter_pages = filter(pages, (page: Page) => page._id !== pageId);\n\n    return (\n        <Modal\n            visible={visible}\n            title='Copy tin nhắn nhanh sang page khác'\n            destroyOnClose\n            onCancel={toggle}\n            footer={null}\n        >\n            <Form\n                className='quick-message-form'\n                onFinish={handleSubmit}\n                layout='vertical'\n                initialValues={{\n                    fbPageId: filter_pages.length > 0 ? filter_pages[0].fbObjectId : undefined,\n                    replace: 1,\n                    copyAll: quickAnswerIds.length === 0,\n                }}\n            >\n                <Form.Item\n                    name='fbPageId'\n                    label='Chọn page'\n                    rules={[{ required: true, message: 'Chọn page.' }]}\n                >\n                    <Select>\n                        {filter_pages.map((page: Page) => (\n                            <Option value={page.fbObjectId} key={page._id}>\n                                {page.name}\n                            </Option>\n                        ))}\n                    </Select>\n                </Form.Item>\n                <Form.Item name='replace'>\n                    <Radio.Group>\n                        <Radio value={1}>Thay thế danh sách đã có</Radio>\n                        <Radio value={2}>Thêm mới vào danh sách đã có</Radio>\n                    </Radio.Group>\n                </Form.Item>\n\n                <Form.Item name='copyAll' valuePropName='checked'>\n                    <Checkbox>Sao chép tất cả</Checkbox>\n                </Form.Item>\n\n                <Form.Item noStyle>\n                    <Space>\n                        <Button icon={<CloseOutlined />} onClick={toggle}>\n                            Huỷ\n                        </Button>\n                        <Button\n                            htmlType='submit'\n                            loading={loading}\n                            type='primary'\n                            icon={<CopyOutlined />}\n                        >\n                            Sao chép\n                        </Button>\n                    </Space>\n                </Form.Item>\n            </Form>\n        </Modal>\n    );\n}\n\nexport default QuickMessageModal;\n"]},"metadata":{},"sourceType":"module"}