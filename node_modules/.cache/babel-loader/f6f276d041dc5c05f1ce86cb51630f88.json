{"ast":null,"code":"var _jsxFileName = \"/Users/mac3/Desktop/workspace/FacebookClient/src/pages/members/remove-staff-btn.tsx\",\n    _s = $RefreshSig$();\n\nimport { DeleteOutlined } from '@ant-design/icons';\nimport { Button, message, Modal } from 'antd';\nimport React, { useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport staffApi from '../../api/staff-api';\nimport { deleteStaff } from '../../reducers/staffState/staffAction';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst MemberAddBtn = ({\n  staff\n}) => {\n  _s();\n\n  const [loading, setLoading] = useState(false);\n  const token = useSelector(state => state.auth.token);\n  const store = useSelector(state => state.store.store);\n  const dispatch = useDispatch();\n\n  const removeStaff = async () => {\n    setLoading(true);\n\n    try {\n      const response = await staffApi.deleteStaff({\n        storeId: store._id,\n        staffId: staff._id,\n        token: token.accessToken\n      });\n      dispatch(deleteStaff(staff._id));\n      setLoading(false);\n      message.success('Đã xóa nhân viên');\n    } catch (error) {\n      setLoading(false);\n      message.error('Lỗi xóa nhân viên');\n    }\n  };\n\n  const showConfirm = () => {\n    Modal.confirm({\n      title: 'Xóa Nhân Viên?',\n      content: `Bạn chắc chắn muốn xóa nhân viên?`,\n      okText: 'Xóa',\n      okType: 'danger',\n      cancelText: 'Hủy',\n\n      onOk() {\n        removeStaff();\n      }\n\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(Button, {\n    icon: /*#__PURE__*/_jsxDEV(DeleteOutlined, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 26\n    }, this),\n    onClick: showConfirm,\n    loading: loading\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 51,\n    columnNumber: 12\n  }, this);\n};\n\n_s(MemberAddBtn, \"lq1jmJQzhfNZTxftVldcuNsWHSY=\", false, function () {\n  return [useSelector, useSelector, useDispatch];\n});\n\n_c = MemberAddBtn;\nexport default MemberAddBtn;\n\nvar _c;\n\n$RefreshReg$(_c, \"MemberAddBtn\");","map":{"version":3,"sources":["/Users/mac3/Desktop/workspace/FacebookClient/src/pages/members/remove-staff-btn.tsx"],"names":["DeleteOutlined","Button","message","Modal","React","useState","useDispatch","useSelector","staffApi","deleteStaff","MemberAddBtn","staff","loading","setLoading","token","state","auth","store","dispatch","removeStaff","response","storeId","_id","staffId","accessToken","success","error","showConfirm","confirm","title","content","okText","okType","cancelText","onOk"],"mappings":";;;AAAA,SAASA,cAAT,QAA+B,mBAA/B;AACA,SAASC,MAAT,EAAiBC,OAAjB,EAA0BC,KAA1B,QAAuC,MAAvC;AACA,OAAOC,KAAP,IAAoBC,QAApB,QAAoC,OAApC;AACA,SAASC,WAAT,EAAsBC,WAAtB,QAAyC,aAAzC;AAEA,OAAOC,QAAP,MAAqB,qBAArB;AACA,SAASC,WAAT,QAA4B,uCAA5B;;;AAOA,MAAMC,YAAuB,GAAG,CAAC;AAAEC,EAAAA;AAAF,CAAD,KAAe;AAAA;;AAC3C,QAAM,CAACC,OAAD,EAAUC,UAAV,IAAwBR,QAAQ,CAAC,KAAD,CAAtC;AACA,QAAMS,KAAK,GAAGP,WAAW,CAAEQ,KAAD,IAAgBA,KAAK,CAACC,IAAN,CAAWF,KAA5B,CAAzB;AACA,QAAMG,KAAK,GAAGV,WAAW,CAAEQ,KAAD,IAAgBA,KAAK,CAACE,KAAN,CAAYA,KAA7B,CAAzB;AACA,QAAMC,QAAQ,GAAGZ,WAAW,EAA5B;;AAEA,QAAMa,WAAW,GAAG,YAAY;AAC5BN,IAAAA,UAAU,CAAC,IAAD,CAAV;;AAEA,QAAI;AACA,YAAMO,QAAQ,GAAG,MAAMZ,QAAQ,CAACC,WAAT,CAAqB;AACxCY,QAAAA,OAAO,EAAEJ,KAAK,CAACK,GADyB;AAExCC,QAAAA,OAAO,EAAEZ,KAAK,CAACW,GAFyB;AAGxCR,QAAAA,KAAK,EAAEA,KAAK,CAACU;AAH2B,OAArB,CAAvB;AAKAN,MAAAA,QAAQ,CAACT,WAAW,CAACE,KAAK,CAACW,GAAP,CAAZ,CAAR;AACAT,MAAAA,UAAU,CAAC,KAAD,CAAV;AACAX,MAAAA,OAAO,CAACuB,OAAR,CAAgB,kBAAhB;AACH,KATD,CASE,OAAOC,KAAP,EAAc;AACZb,MAAAA,UAAU,CAAC,KAAD,CAAV;AACAX,MAAAA,OAAO,CAACwB,KAAR,CAAc,mBAAd;AACH;AACJ,GAhBD;;AAkBA,QAAMC,WAAW,GAAG,MAAM;AACtBxB,IAAAA,KAAK,CAACyB,OAAN,CAAc;AACVC,MAAAA,KAAK,EAAE,gBADG;AAEVC,MAAAA,OAAO,EAAG,mCAFA;AAGVC,MAAAA,MAAM,EAAE,KAHE;AAIVC,MAAAA,MAAM,EAAE,QAJE;AAKVC,MAAAA,UAAU,EAAE,KALF;;AAMVC,MAAAA,IAAI,GAAG;AACHf,QAAAA,WAAW;AACd;;AARS,KAAd;AAUH,GAXD;;AAaA,sBAAO,QAAC,MAAD;AAAQ,IAAA,IAAI,eAAE,QAAC,cAAD;AAAA;AAAA;AAAA;AAAA,YAAd;AAAkC,IAAA,OAAO,EAAEQ,WAA3C;AAAwD,IAAA,OAAO,EAAEf;AAAjE;AAAA;AAAA;AAAA;AAAA,UAAP;AACH,CAtCD;;GAAMF,Y;UAEYH,W,EACAA,W,EACGD,W;;;KAJfI,Y;AAwCN,eAAeA,YAAf","sourcesContent":["import { DeleteOutlined } from '@ant-design/icons';\nimport { Button, message, Modal } from 'antd';\nimport React, { FC, useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\n\nimport staffApi from '../../api/staff-api';\nimport { deleteStaff } from '../../reducers/staffState/staffAction';\nimport { IStaff } from '../../reducers/staffState/staffReducer';\n\ninterface Props {\n    staff: IStaff;\n}\n\nconst MemberAddBtn: FC<Props> = ({ staff }) => {\n    const [loading, setLoading] = useState(false);\n    const token = useSelector((state: any) => state.auth.token);\n    const store = useSelector((state: any) => state.store.store);\n    const dispatch = useDispatch();\n\n    const removeStaff = async () => {\n        setLoading(true);\n\n        try {\n            const response = await staffApi.deleteStaff({\n                storeId: store._id,\n                staffId: staff._id,\n                token: token.accessToken,\n            });\n            dispatch(deleteStaff(staff._id));\n            setLoading(false);\n            message.success('Đã xóa nhân viên');\n        } catch (error) {\n            setLoading(false);\n            message.error('Lỗi xóa nhân viên');\n        }\n    };\n\n    const showConfirm = () => {\n        Modal.confirm({\n            title: 'Xóa Nhân Viên?',\n            content: `Bạn chắc chắn muốn xóa nhân viên?`,\n            okText: 'Xóa',\n            okType: 'danger',\n            cancelText: 'Hủy',\n            onOk() {\n                removeStaff();\n            },\n        });\n    };\n\n    return <Button icon={<DeleteOutlined />} onClick={showConfirm} loading={loading} />;\n};\n\nexport default MemberAddBtn;\n"]},"metadata":{},"sourceType":"module"}