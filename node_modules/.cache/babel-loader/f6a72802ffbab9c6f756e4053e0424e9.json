{"ast":null,"code":"var _jsxFileName = \"/Users/mac3/Desktop/workspace/FacebookClient/src/components/error-axios/index.tsx\";\nimport axios from 'axios';\nimport { get, every } from 'lodash';\nimport React, { useEffect, useState } from 'react';\nimport ErrorPage from '../../pages/maintained';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst ApiRequests = Wrapped => {\n  var _s = $RefreshSig$();\n\n  function CheckRequests(props) {\n    _s();\n\n    const [hasError, setHasError] = useState(false);\n    const ignoredEndpoints = ['/users/info', 'validate-token'];\n    useEffect(() => {\n      axios.interceptors.response.use(function (response) {\n        return response;\n      }, function (error) {\n        if (get(error, 'response.config.method') === 'get' && every(ignoredEndpoints, endpoint => !get(error, 'response.config.url').includes(endpoint))) {\n          setHasError(true);\n        }\n\n        return Promise.reject(error);\n      });\n    });\n    return hasError ? /*#__PURE__*/_jsxDEV(ErrorPage, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 27\n    }, this) : /*#__PURE__*/_jsxDEV(Wrapped, { ...props\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 43\n    }, this);\n  }\n\n  _s(CheckRequests, \"Y10BwSn8jQ4wQtRAtRxoscEk2KA=\");\n\n  return CheckRequests;\n};\n\n_c = ApiRequests;\nexport default ApiRequests;\n\nvar _c;\n\n$RefreshReg$(_c, \"ApiRequests\");","map":{"version":3,"sources":["/Users/mac3/Desktop/workspace/FacebookClient/src/components/error-axios/index.tsx"],"names":["axios","get","every","React","useEffect","useState","ErrorPage","ApiRequests","Wrapped","CheckRequests","props","hasError","setHasError","ignoredEndpoints","interceptors","response","use","error","endpoint","includes","Promise","reject"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,GAAT,EAAcC,KAAd,QAA2B,QAA3B;AACA,OAAOC,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA2C,OAA3C;AAEA,OAAOC,SAAP,MAAsB,wBAAtB;;;AAEA,MAAMC,WAAW,GAAIC,OAAD,IAAkB;AAAA;;AAClC,WAASC,aAAT,CAAuBC,KAAvB,EAAgD;AAAA;;AAC5C,UAAM,CAACC,QAAD,EAAWC,WAAX,IAA0BP,QAAQ,CAAC,KAAD,CAAxC;AAEA,UAAMQ,gBAAgB,GAAG,CAAC,aAAD,EAAgB,gBAAhB,CAAzB;AAEAT,IAAAA,SAAS,CAAC,MAAM;AACZJ,MAAAA,KAAK,CAACc,YAAN,CAAmBC,QAAnB,CAA4BC,GAA5B,CACI,UAAUD,QAAV,EAAoB;AAChB,eAAOA,QAAP;AACH,OAHL,EAII,UAAUE,KAAV,EAAiB;AACb,YACIhB,GAAG,CAACgB,KAAD,EAAQ,wBAAR,CAAH,KAAyC,KAAzC,IACAf,KAAK,CAACW,gBAAD,EAAmBK,QAAQ,IAAI,CAACjB,GAAG,CAACgB,KAAD,EAAQ,qBAAR,CAAH,CAAkCE,QAAlC,CAA2CD,QAA3C,CAAhC,CAFT,EAGE;AACEN,UAAAA,WAAW,CAAC,IAAD,CAAX;AACH;;AACD,eAAOQ,OAAO,CAACC,MAAR,CAAeJ,KAAf,CAAP;AACH,OAZL;AAcH,KAfQ,CAAT;AAiBA,WAAON,QAAQ,gBAAG,QAAC,SAAD;AAAA;AAAA;AAAA;AAAA,YAAH,gBAAmB,QAAC,OAAD,OAAaD;AAAb;AAAA;AAAA;AAAA;AAAA,YAAlC;AACH;;AAxBiC,KACzBD,aADyB;;AAyBlC,SAAOA,aAAP;AACH,CA1BD;;KAAMF,W;AA4BN,eAAeA,WAAf","sourcesContent":["import axios from 'axios';\nimport { get, every } from 'lodash';\nimport React, { useEffect, useState } from 'react';\n\nimport ErrorPage from '../../pages/maintained';\n\nconst ApiRequests = (Wrapped: any) => {\n    function CheckRequests(props: any): JSX.Element {\n        const [hasError, setHasError] = useState(false);\n\n        const ignoredEndpoints = ['/users/info', 'validate-token'];\n\n        useEffect(() => {\n            axios.interceptors.response.use(\n                function (response) {\n                    return response;\n                },\n                function (error) {\n                    if (\n                        get(error, 'response.config.method') === 'get' &&\n                        every(ignoredEndpoints, endpoint => !get(error, 'response.config.url').includes(endpoint))\n                    ) {\n                        setHasError(true);\n                    }\n                    return Promise.reject(error);\n                }\n            );\n        });\n\n        return hasError ? <ErrorPage /> : <Wrapped {...props} />;\n    }\n    return CheckRequests;\n};\n\nexport default ApiRequests;\n"]},"metadata":{},"sourceType":"module"}