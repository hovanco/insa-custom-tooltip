{"ast":null,"code":"var _jsxFileName = \"/Users/mac3/Desktop/workspace/FacebookClient/src/pages/products/btn-remove-product.tsx\",\n    _s = $RefreshSig$();\n\nimport { DeleteOutlined } from '@ant-design/icons';\nimport { Button, message, Modal } from 'antd';\nimport React, { useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { deleteProductRequest } from '../../api/product-api';\nimport { fetchProducts } from '../../reducers/productState/productAction';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst BtnRemoveProduct = ({\n  products,\n  resetSelect,\n  textSearch,\n  limit,\n  page\n}) => {\n  _s();\n\n  const dispatch = useDispatch();\n  const store = useSelector(state => state.store.store);\n  const token = useSelector(state => state.auth.token);\n  const [loading, setLoading] = useState(false);\n\n  const showDeleteConfirm = () => {\n    Modal.confirm({\n      title: 'Xóa sản phẩm?',\n      content: `Bạn chắc chắn muốn xóa những sản phẩm đã chọn?`,\n      okText: 'Xóa',\n      okType: 'danger',\n      cancelText: 'Hủy',\n      width: 450,\n\n      onOk() {\n        removeMoreProducts();\n      },\n\n      onCancel() {}\n\n    });\n  };\n\n  const removeMoreProducts = async () => {\n    try {\n      setLoading(true);\n      const response = await Promise.all(products.map(async productId => {\n        await deleteProductRequest({\n          token: token.accessToken,\n          storeId: store._id,\n          productId\n        });\n        return productId;\n      }));\n      message.success('Đã xóa sản phẩm');\n      setLoading(false);\n      resetSelect();\n      dispatch(fetchProducts({\n        textSearch,\n        page,\n        limit\n      }));\n    } catch (error) {\n      if (error && error.response && error.response.data && error.response.data.message) {\n        message.error(`${error.response.data.message}`);\n      } else {\n        message.error('Lỗi xóa sản phẩm');\n      }\n\n      dispatch(fetchProducts({\n        textSearch,\n        page,\n        limit\n      }));\n      setLoading(false);\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(Button, {\n    danger: true,\n    type: \"primary\",\n    icon: /*#__PURE__*/_jsxDEV(DeleteOutlined, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 19\n    }, this),\n    onClick: showDeleteConfirm,\n    loading: loading,\n    children: \"X\\xF3a\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 81,\n    columnNumber: 9\n  }, this);\n};\n\n_s(BtnRemoveProduct, \"kYF6s8mJ9HP6ILz8V+ZxZiVPOxg=\", false, function () {\n  return [useDispatch, useSelector, useSelector];\n});\n\n_c = BtnRemoveProduct;\nexport default BtnRemoveProduct;\n\nvar _c;\n\n$RefreshReg$(_c, \"BtnRemoveProduct\");","map":{"version":3,"sources":["/Users/mac3/Desktop/workspace/FacebookClient/src/pages/products/btn-remove-product.tsx"],"names":["DeleteOutlined","Button","message","Modal","React","useState","useDispatch","useSelector","deleteProductRequest","fetchProducts","BtnRemoveProduct","products","resetSelect","textSearch","limit","page","dispatch","store","state","token","auth","loading","setLoading","showDeleteConfirm","confirm","title","content","okText","okType","cancelText","width","onOk","removeMoreProducts","onCancel","response","Promise","all","map","productId","accessToken","storeId","_id","success","error","data"],"mappings":"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","sourcesContent":["import { DeleteOutlined } from '@ant-design/icons';\nimport { Button, message, Modal } from 'antd';\nimport React, { useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { deleteProductRequest } from '../../api/product-api';\nimport { fetchProducts } from '../../reducers/productState/productAction';\n\ninterface Props {\n    products: string[];\n    resetSelect: () => void;\n    textSearch: string;\n    limit: number;\n    page: number;\n}\n\nconst BtnRemoveProduct = ({ products, resetSelect, textSearch, limit, page }: Props) => {\n    const dispatch = useDispatch();\n    const store = useSelector((state: any) => state.store.store);\n    const token = useSelector((state: any) => state.auth.token);\n\n    const [loading, setLoading] = useState(false);\n\n    const showDeleteConfirm = () => {\n        Modal.confirm({\n            title: 'Xóa sản phẩm?',\n            content: `Bạn chắc chắn muốn xóa những sản phẩm đã chọn?`,\n            okText: 'Xóa',\n            okType: 'danger',\n            cancelText: 'Hủy',\n            width: 450,\n            onOk() {\n                removeMoreProducts();\n            },\n            onCancel() {},\n        });\n    };\n\n    const removeMoreProducts = async () => {\n        try {\n            setLoading(true);\n\n            const response = await Promise.all(\n                products.map(async (productId: string) => {\n                    await deleteProductRequest({\n                        token: token.accessToken,\n                        storeId: store._id,\n                        productId,\n                    });\n                    return productId;\n                })\n            );\n\n            message.success('Đã xóa sản phẩm');\n            setLoading(false);\n            resetSelect();\n            dispatch(\n                fetchProducts({\n                    textSearch,\n                    page,\n                    limit,\n                })\n            );\n        } catch (error) {\n            if (error && error.response && error.response.data && error.response.data.message) {\n                message.error(`${error.response.data.message}`);\n            } else {\n                message.error('Lỗi xóa sản phẩm');\n            }\n            dispatch(\n                fetchProducts({\n                    textSearch,\n                    page,\n                    limit,\n                })\n            );\n            setLoading(false);\n        }\n    };\n\n    return (\n        <Button\n            danger\n            type='primary'\n            icon={<DeleteOutlined />}\n            onClick={showDeleteConfirm}\n            loading={loading}\n        >\n            Xóa\n        </Button>\n    );\n};\n\nexport default BtnRemoveProduct;\n"]},"metadata":{},"sourceType":"module"}