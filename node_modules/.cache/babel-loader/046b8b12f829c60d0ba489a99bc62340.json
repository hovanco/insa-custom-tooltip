{"ast":null,"code":"var _jsxFileName = \"/Users/mac3/Desktop/workspace/FacebookClient/src/app-router/auth-router.tsx\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$(),\n    _s3 = $RefreshSig$();\n\nimport React from 'react';\nimport { useSelector } from 'react-redux';\nimport { Redirect, Route } from 'react-router-dom';\nimport { Loading } from '../components';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst GuestRouter = ({\n  children,\n  ...rest\n}) => {\n  _s();\n\n  const isAuth = useSelector(({\n    auth\n  }) => auth.isAuth);\n  return /*#__PURE__*/_jsxDEV(Route, { ...rest,\n    render: ({\n      location\n    }) => !isAuth ? children : /*#__PURE__*/_jsxDEV(Redirect, {\n      to: {\n        pathname: '/customer',\n        state: {\n          from: location\n        }\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 23,\n      columnNumber: 21\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 17,\n    columnNumber: 9\n  }, this);\n};\n\n_s(GuestRouter, \"ccLlqVdYzn3X5NS8YnsdgLyqe+g=\", false, function () {\n  return [useSelector];\n});\n\n_c = GuestRouter;\n\nconst UserRouter = ({\n  children,\n  ...rest\n}) => {\n  _s2();\n\n  const isAuth = useSelector(({\n    auth\n  }) => auth.isAuth);\n  return /*#__PURE__*/_jsxDEV(Route, { ...rest,\n    render: ({\n      location\n    }) => isAuth ? children : /*#__PURE__*/_jsxDEV(Redirect, {\n      to: {\n        pathname: '/login',\n        state: {\n          from: location\n        }\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 21\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 39,\n    columnNumber: 9\n  }, this);\n};\n\n_s2(UserRouter, \"ccLlqVdYzn3X5NS8YnsdgLyqe+g=\", false, function () {\n  return [useSelector];\n});\n\n_c2 = UserRouter;\n\nconst CustomerRouter = ({\n  children,\n  ...rest\n}) => {\n  _s3();\n\n  const isAuth = useSelector(({\n    auth\n  }) => auth.isAuth);\n  const loadingStore = useSelector(({\n    store\n  }) => store.loading);\n  const store = useSelector(({\n    store\n  }) => store.store);\n  const notAllowRedirects = ['/customer/report/conversation', '/customer/report/label', '/customer/report/revenue', '/customer/other/members', '/customer/other/customer', '/customer/other/setting', '/customer/select-pages'];\n  if (loadingStore && isAuth) return /*#__PURE__*/_jsxDEV(Loading, {\n    full: true\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 74,\n    columnNumber: 40\n  }, this);\n  return /*#__PURE__*/_jsxDEV(Route, { ...rest,\n    render: ({\n      location\n    }) => {\n      if (!isAuth) {\n        return /*#__PURE__*/_jsxDEV(Redirect, {\n          to: {\n            pathname: '/login',\n            state: {\n              from: location\n            }\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 25\n        }, this);\n      }\n\n      if (isAuth && !store) return /*#__PURE__*/_jsxDEV(Redirect, {\n        to: {\n          pathname: '/create-store',\n          state: {\n            from: location\n          }\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 25\n      }, this);\n\n      if (isAuth && store) {\n        if (store.role >= 2 && notAllowRedirects.includes(location.pathname) || store.role === 1 && location.pathname === '/customer/select-pages') {\n          return /*#__PURE__*/_jsxDEV(Redirect, {\n            to: {\n              pathname: '/customer/conversation',\n              state: {\n                from: location\n              }\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 107,\n            columnNumber: 29\n          }, this);\n        }\n\n        return children;\n      }\n\n      return /*#__PURE__*/_jsxDEV(Redirect, {\n        to: {\n          pathname: '/create-store',\n          state: {\n            from: location\n          }\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 21\n      }, this);\n    }\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 77,\n    columnNumber: 9\n  }, this);\n};\n\n_s3(CustomerRouter, \"qAK+CAvfltD9zQrUxx4Hn0cVKcA=\", false, function () {\n  return [useSelector, useSelector, useSelector];\n});\n\n_c3 = CustomerRouter;\nexport { GuestRouter, UserRouter, CustomerRouter };\n\nvar _c, _c2, _c3;\n\n$RefreshReg$(_c, \"GuestRouter\");\n$RefreshReg$(_c2, \"UserRouter\");\n$RefreshReg$(_c3, \"CustomerRouter\");","map":{"version":3,"sources":["/Users/mac3/Desktop/workspace/FacebookClient/src/app-router/auth-router.tsx"],"names":["React","useSelector","Redirect","Route","Loading","GuestRouter","children","rest","isAuth","auth","location","pathname","state","from","UserRouter","CustomerRouter","loadingStore","store","loading","notAllowRedirects","role","includes"],"mappings":"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","sourcesContent":["import React, { FC, ReactNode } from 'react';\nimport { useSelector } from 'react-redux';\nimport { Redirect, Route, RouteProps } from 'react-router-dom';\n\nimport { IAuthState } from '../reducers/authState/authReducer';\nimport { IStoreState } from '../reducers/storeState/storeReducer';\nimport { Loading } from '../components';\n\ninterface Props {\n    children: ReactNode;\n}\n\nconst GuestRouter: FC<Props & RouteProps> = ({ children, ...rest }): JSX.Element => {\n    const isAuth = useSelector(({ auth }: { auth: IAuthState }) => auth.isAuth);\n\n    return (\n        <Route\n            {...rest}\n            render={({ location }) =>\n                !isAuth ? (\n                    children\n                ) : (\n                    <Redirect\n                        to={{\n                            pathname: '/customer',\n                            state: { from: location },\n                        }}\n                    />\n                )\n            }\n        />\n    );\n};\n\nconst UserRouter: FC<Props & RouteProps> = ({ children, ...rest }): JSX.Element => {\n    const isAuth = useSelector(({ auth }: { auth: IAuthState }) => auth.isAuth);\n\n    return (\n        <Route\n            {...rest}\n            render={({ location }) =>\n                isAuth ? (\n                    children\n                ) : (\n                    <Redirect\n                        to={{\n                            pathname: '/login',\n                            state: { from: location },\n                        }}\n                    />\n                )\n            }\n        />\n    );\n};\n\nconst CustomerRouter: FC<Props & RouteProps> = ({ children, ...rest }): JSX.Element => {\n    const isAuth = useSelector(({ auth }: { auth: IAuthState }) => auth.isAuth);\n\n    const loadingStore = useSelector(({ store }: { store: IStoreState }) => store.loading);\n\n    const store = useSelector(({ store }: { store: IStoreState }) => store.store);\n\n    const notAllowRedirects = [\n        '/customer/report/conversation',\n        '/customer/report/label',\n        '/customer/report/revenue',\n        '/customer/other/members',\n        '/customer/other/customer',\n        '/customer/other/setting',\n        '/customer/select-pages',\n    ];\n\n    if (loadingStore && isAuth) return <Loading full />;\n\n    return (\n        <Route\n            {...rest}\n            render={({ location }) => {\n                if (!isAuth) {\n                    return (\n                        <Redirect\n                            to={{\n                                pathname: '/login',\n                                state: { from: location },\n                            }}\n                        />\n                    );\n                }\n\n                if (isAuth && !store)\n                    return (\n                        <Redirect\n                            to={{\n                                pathname: '/create-store',\n                                state: { from: location },\n                            }}\n                        />\n                    );\n\n                if (isAuth && store) {\n                    if (\n                        (store.role >= 2 && notAllowRedirects.includes(location.pathname)) ||\n                        (store.role === 1 && location.pathname === '/customer/select-pages')\n                    ) {\n                        return (\n                            <Redirect\n                                to={{\n                                    pathname: '/customer/conversation',\n                                    state: { from: location },\n                                }}\n                            />\n                        );\n                    }\n                    return children;\n                }\n\n                return (\n                    <Redirect\n                        to={{\n                            pathname: '/create-store',\n                            state: { from: location },\n                        }}\n                    />\n                );\n            }}\n        />\n    );\n};\n\nexport { GuestRouter, UserRouter, CustomerRouter };\n"]},"metadata":{},"sourceType":"module"}