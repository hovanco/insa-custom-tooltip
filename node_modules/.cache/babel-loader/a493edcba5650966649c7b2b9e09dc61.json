{"ast":null,"code":"var _jsxFileName = \"/Users/mac3/Desktop/workspace/FacebookClient/src/pages/settings/conversation-label/modal-copy-label.tsx\",\n    _s = $RefreshSig$();\n\nimport { CloseOutlined, CopyOutlined } from '@ant-design/icons';\nimport { Button, Col, Form, Modal, Radio, Row, Select, message, Checkbox } from 'antd';\nimport { filter, map } from 'lodash';\nimport React, { useState } from 'react';\nimport { useSelector } from 'react-redux';\nimport * as settingApi from '../../../api/setting';\nimport useModal from '../../../hooks/use-modal';\nimport { useContextLabel } from './context';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst title = 'Copy sang page khác';\n\nconst ModalCopyLabel = props => {\n  _s();\n\n  const [loading, setLoading] = useState(false);\n  const store = useSelector(state => state.store.store);\n  const pages = useSelector(state => state.fanpage.pages);\n  const labels = useSelector(state => state.label.labels);\n  const {\n    page,\n    labelIds\n  } = useContextLabel();\n  const {\n    visible,\n    toggle\n  } = useModal();\n\n  const onChangeOption = e => {};\n\n  const filter_pages = filter(pages, p => p._id !== page);\n\n  const handleSubmit = async val => {\n    setLoading(true);\n\n    try {\n      const storeId = store._id;\n      const labelIdsSelect = labelIds.length === 0 ? Object.keys(labels).map(key => key) : labelIds;\n      await settingApi.cloneLabels({\n        storeId,\n        pageId: pages[page].fbObjectId,\n        data: {\n          fbPageId: val.fbPageId,\n          copyAll: val.copyAll,\n          replace: val.replace === 1,\n          labelIds: labelIdsSelect\n        }\n      });\n      message.success('Sao chép thành công');\n      toggle();\n      setLoading(false);\n    } catch (error) {\n      setLoading(false);\n      message.error('Sao chép thất bại');\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Button, {\n      icon: /*#__PURE__*/_jsxDEV(CopyOutlined, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 27\n      }, this),\n      onClick: toggle,\n      className: \"primary-icon\",\n      children: title\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Modal, {\n      visible: visible,\n      onCancel: toggle,\n      destroyOnClose: true,\n      title: title,\n      footer: null,\n      children: /*#__PURE__*/_jsxDEV(Form, {\n        onFinish: handleSubmit,\n        layout: \"vertical\",\n        initialValues: {\n          fbPageId: filter_pages.length > 0 ? filter_pages[0].fbObjectId : undefined,\n          replace: 1,\n          copyAll: labelIds.length === 0\n        },\n        children: [/*#__PURE__*/_jsxDEV(Form.Item, {\n          name: \"fbPageId\",\n          children: /*#__PURE__*/_jsxDEV(Select, {\n            children: map(filter_pages, p => /*#__PURE__*/_jsxDEV(Select.Option, {\n              value: p.fbObjectId,\n              children: p.name\n            }, p._id, false, {\n              fileName: _jsxFileName,\n              lineNumber: 84,\n              columnNumber: 33\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 82,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Form.Item, {\n          name: \"replace\",\n          children: /*#__PURE__*/_jsxDEV(Radio.Group, {\n            onChange: onChangeOption,\n            children: [/*#__PURE__*/_jsxDEV(Radio, {\n              value: 1,\n              children: \"Thay th\\u1EBF danh s\\xE1ch \\u0111\\xE3 c\\xF3\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 93,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(Radio, {\n              value: 2,\n              children: \"Th\\xEAm m\\u1EDBi v\\xE0o danh s\\xE1ch\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 94,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 92,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Form.Item, {\n          name: \"copyAll\",\n          valuePropName: \"checked\",\n          children: /*#__PURE__*/_jsxDEV(Checkbox, {\n            children: \"Sao ch\\xE9p t\\u1EA5t c\\u1EA3\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 99,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Form.Item, {\n          children: /*#__PURE__*/_jsxDEV(Row, {\n            gutter: 15,\n            children: [/*#__PURE__*/_jsxDEV(Col, {\n              children: /*#__PURE__*/_jsxDEV(Button, {\n                icon: /*#__PURE__*/_jsxDEV(CloseOutlined, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 105,\n                  columnNumber: 47\n                }, this),\n                onClick: toggle,\n                children: \"H\\u1EE7y\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 105,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 104,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(Col, {\n              children: /*#__PURE__*/_jsxDEV(Button, {\n                type: \"primary\",\n                htmlType: \"submit\",\n                loading: loading,\n                icon: /*#__PURE__*/_jsxDEV(CopyOutlined, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 114,\n                  columnNumber: 43\n                }, this),\n                children: \"Copy\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 110,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 109,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 103,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true);\n};\n\n_s(ModalCopyLabel, \"DUXaMSQ1ROFIOr1Kc4zY8BixeCc=\", false, function () {\n  return [useSelector, useSelector, useSelector, useContextLabel, useModal];\n});\n\n_c = ModalCopyLabel;\nexport default ModalCopyLabel;\n\nvar _c;\n\n$RefreshReg$(_c, \"ModalCopyLabel\");","map":{"version":3,"sources":["/Users/mac3/Desktop/workspace/FacebookClient/src/pages/settings/conversation-label/modal-copy-label.tsx"],"names":["CloseOutlined","CopyOutlined","Button","Col","Form","Modal","Radio","Row","Select","message","Checkbox","filter","map","React","useState","useSelector","settingApi","useModal","useContextLabel","title","ModalCopyLabel","props","loading","setLoading","store","state","pages","fanpage","labels","label","page","labelIds","visible","toggle","onChangeOption","e","filter_pages","p","_id","handleSubmit","val","storeId","labelIdsSelect","length","Object","keys","key","cloneLabels","pageId","fbObjectId","data","fbPageId","copyAll","replace","success","error","undefined","name"],"mappings":"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","sourcesContent":["import { CloseOutlined, CopyOutlined } from '@ant-design/icons';\nimport { Button, Col, Form, Modal, Radio, Row, Select, message, Checkbox } from 'antd';\nimport { filter, map } from 'lodash';\nimport React, { FC, useState } from 'react';\nimport { useSelector } from 'react-redux';\n\nimport * as settingApi from '../../../api/setting';\nimport useModal from '../../../hooks/use-modal';\nimport { Page } from '../../../reducers/fanpageState/fanpageReducer';\nimport { useContextLabel } from './context';\n\ninterface Props {}\n\nconst title = 'Copy sang page khác';\n\nconst ModalCopyLabel: FC<Props> = (props): JSX.Element => {\n    const [loading, setLoading] = useState(false);\n    const store = useSelector((state: any) => state.store.store);\n    const pages = useSelector((state: any) => state.fanpage.pages);\n    const labels = useSelector((state: any) => state.label.labels);\n    const { page, labelIds } = useContextLabel();\n\n    const { visible, toggle } = useModal();\n\n    const onChangeOption = (e: any) => {};\n\n    const filter_pages = filter(pages, (p: Page) => p._id !== page);\n\n    const handleSubmit = async (val: any) => {\n        setLoading(true);\n\n        try {\n            const storeId = store._id;\n\n            const labelIdsSelect =\n                labelIds.length === 0 ? Object.keys(labels).map((key: string) => key) : labelIds;\n\n            await settingApi.cloneLabels({\n                storeId,\n                pageId: (pages[page as string] as Page).fbObjectId,\n                data: {\n                    fbPageId: val.fbPageId,\n                    copyAll: val.copyAll,\n                    replace: val.replace === 1,\n                    labelIds: labelIdsSelect,\n                },\n            });\n\n            message.success('Sao chép thành công');\n            toggle();\n\n            setLoading(false);\n        } catch (error) {\n            setLoading(false);\n            message.error('Sao chép thất bại');\n        }\n    };\n\n    return (\n        <>\n            <Button icon={<CopyOutlined />} onClick={toggle} className='primary-icon'>\n                {title}\n            </Button>\n\n            <Modal\n                visible={visible}\n                onCancel={toggle}\n                destroyOnClose={true}\n                title={title}\n                footer={null}\n            >\n                <Form\n                    onFinish={handleSubmit}\n                    layout='vertical'\n                    initialValues={{\n                        fbPageId: filter_pages.length > 0 ? filter_pages[0].fbObjectId : undefined,\n                        replace: 1,\n                        copyAll: labelIds.length === 0,\n                    }}\n                >\n                    <Form.Item name='fbPageId'>\n                        <Select>\n                            {map(filter_pages, (p: Page) => (\n                                <Select.Option key={p._id} value={p.fbObjectId}>\n                                    {p.name}\n                                </Select.Option>\n                            ))}\n                        </Select>\n                    </Form.Item>\n\n                    <Form.Item name='replace'>\n                        <Radio.Group onChange={onChangeOption}>\n                            <Radio value={1}>Thay thế danh sách đã có</Radio>\n                            <Radio value={2}>Thêm mới vào danh sách</Radio>\n                        </Radio.Group>\n                    </Form.Item>\n\n                    <Form.Item name='copyAll' valuePropName='checked'>\n                        <Checkbox>Sao chép tất cả</Checkbox>\n                    </Form.Item>\n\n                    <Form.Item>\n                        <Row gutter={15}>\n                            <Col>\n                                <Button icon={<CloseOutlined />} onClick={toggle}>\n                                    Hủy\n                                </Button>\n                            </Col>\n                            <Col>\n                                <Button\n                                    type='primary'\n                                    htmlType='submit'\n                                    loading={loading}\n                                    icon={<CopyOutlined />}\n                                >\n                                    Copy\n                                </Button>\n                            </Col>\n                        </Row>\n                    </Form.Item>\n                </Form>\n            </Modal>\n        </>\n    );\n};\n\nexport default ModalCopyLabel;\n"]},"metadata":{},"sourceType":"module"}