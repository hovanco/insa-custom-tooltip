{"ast":null,"code":"const getFee = order => {\n  const price_list_product = order.products.reduce((number, d) => number + d.count * d.price, 0);\n\n  const price_chiet_khau = price => {\n    const {\n      discount,\n      discountBy\n    } = order.deliveryOptions;\n\n    if (!discount || typeof discountBy === 'undefined') {\n      return 0;\n    }\n\n    if (discountBy === 1) {\n      return price * discount / 100;\n    }\n\n    return discount;\n  };\n\n  const shipmentFeeTransport = order.deliveryOptions.shipmentFee ? order.deliveryOptions.shipmentFee : 0;\n  const shipmentFeeForCustomer = order.deliveryOptions.shipmentFeeForCustomer || shipmentFeeTransport;\n  const shipmentFee = shipmentFeeForCustomer;\n  const discount = price_chiet_khau(price_list_product);\n  const moneyForSender = price_list_product + shipmentFeeForCustomer - shipmentFeeTransport - discount;\n  const feeForReceiver = price_list_product + shipmentFee - discount;\n  return {\n    moneyForSender,\n    feeForReceiver\n  };\n};\n\nconst getTotalPrice = order => {\n  const price_list_product = order.products.reduce((number, d) => number + d.count * d.price, 0);\n\n  const price_chiet_khau = price => {\n    const {\n      discount,\n      discountBy\n    } = order.deliveryOptions;\n\n    if (discountBy === 1) {\n      return price * discount / 100;\n    }\n\n    return discount;\n  };\n\n  const discount = price_chiet_khau(price_list_product);\n  return price_list_product + order.deliveryOptions.shipmentFeeForCustomer - discount;\n};\n\nexport { getFee, getTotalPrice };","map":{"version":3,"sources":["/Users/mac3/Desktop/workspace/FacebookClient/src/pages/conversation/conversation-customer/util.ts"],"names":["getFee","order","price_list_product","products","reduce","number","d","count","price","price_chiet_khau","discount","discountBy","deliveryOptions","shipmentFeeTransport","shipmentFee","shipmentFeeForCustomer","moneyForSender","feeForReceiver","getTotalPrice"],"mappings":"AAAA,MAAMA,MAAM,GAAIC,KAAD,IAAgB;AAC3B,QAAMC,kBAAkB,GAAGD,KAAK,CAACE,QAAN,CAAeC,MAAf,CACvB,CAACC,MAAD,EAAiBC,CAAjB,KAA4BD,MAAM,GAAGC,CAAC,CAACC,KAAF,GAAUD,CAAC,CAACE,KAD1B,EAEvB,CAFuB,CAA3B;;AAKA,QAAMC,gBAAgB,GAAID,KAAD,IAAmB;AACxC,UAAM;AAAEE,MAAAA,QAAF;AAAYC,MAAAA;AAAZ,QAA2BV,KAAK,CAACW,eAAvC;;AAEA,QAAI,CAACF,QAAD,IAAa,OAAOC,UAAP,KAAsB,WAAvC,EAAoD;AAChD,aAAO,CAAP;AACH;;AAED,QAAIA,UAAU,KAAK,CAAnB,EAAsB;AAClB,aAAQH,KAAK,GAAGE,QAAT,GAAqB,GAA5B;AACH;;AACD,WAAOA,QAAP;AACH,GAXD;;AAaA,QAAMG,oBAAoB,GAAGZ,KAAK,CAACW,eAAN,CAAsBE,WAAtB,GACvBb,KAAK,CAACW,eAAN,CAAsBE,WADC,GAEvB,CAFN;AAIA,QAAMC,sBAAsB,GACxBd,KAAK,CAACW,eAAN,CAAsBG,sBAAtB,IAAgDF,oBADpD;AAGA,QAAMC,WAAW,GAAGC,sBAApB;AAEA,QAAML,QAAQ,GAAGD,gBAAgB,CAACP,kBAAD,CAAjC;AAEA,QAAMc,cAAc,GAChBd,kBAAkB,GAAGa,sBAArB,GAA8CF,oBAA9C,GAAqEH,QADzE;AAGA,QAAMO,cAAc,GAAGf,kBAAkB,GAAGY,WAArB,GAAmCJ,QAA1D;AAEA,SAAO;AACHM,IAAAA,cADG;AAEHC,IAAAA;AAFG,GAAP;AAIH,CAvCD;;AAyCA,MAAMC,aAAa,GAAIjB,KAAD,IAAgB;AAClC,QAAMC,kBAAkB,GAAGD,KAAK,CAACE,QAAN,CAAeC,MAAf,CACvB,CAACC,MAAD,EAAiBC,CAAjB,KAA4BD,MAAM,GAAGC,CAAC,CAACC,KAAF,GAAUD,CAAC,CAACE,KAD1B,EAEvB,CAFuB,CAA3B;;AAKA,QAAMC,gBAAgB,GAAID,KAAD,IAAmB;AACxC,UAAM;AAAEE,MAAAA,QAAF;AAAYC,MAAAA;AAAZ,QAA2BV,KAAK,CAACW,eAAvC;;AACA,QAAID,UAAU,KAAK,CAAnB,EAAsB;AAClB,aAAQH,KAAK,GAAGE,QAAT,GAAqB,GAA5B;AACH;;AACD,WAAOA,QAAP;AACH,GAND;;AAQA,QAAMA,QAAQ,GAAGD,gBAAgB,CAACP,kBAAD,CAAjC;AAEA,SAAOA,kBAAkB,GAAGD,KAAK,CAACW,eAAN,CAAsBG,sBAA3C,GAAoEL,QAA3E;AACH,CAjBD;;AAmBA,SAASV,MAAT,EAAiBkB,aAAjB","sourcesContent":["const getFee = (order: any) => {\n    const price_list_product = order.products.reduce(\n        (number: number, d: any) => number + d.count * d.price,\n        0\n    );\n\n    const price_chiet_khau = (price: number) => {\n        const { discount, discountBy } = order.deliveryOptions;\n\n        if (!discount || typeof discountBy === 'undefined') {\n            return 0;\n        }\n\n        if (discountBy === 1) {\n            return (price * discount) / 100;\n        }\n        return discount;\n    };\n\n    const shipmentFeeTransport = order.deliveryOptions.shipmentFee\n        ? order.deliveryOptions.shipmentFee\n        : 0;\n\n    const shipmentFeeForCustomer =\n        order.deliveryOptions.shipmentFeeForCustomer || shipmentFeeTransport;\n\n    const shipmentFee = shipmentFeeForCustomer;\n\n    const discount = price_chiet_khau(price_list_product);\n\n    const moneyForSender =\n        price_list_product + shipmentFeeForCustomer - shipmentFeeTransport - discount;\n\n    const feeForReceiver = price_list_product + shipmentFee - discount;\n\n    return {\n        moneyForSender,\n        feeForReceiver,\n    };\n};\n\nconst getTotalPrice = (order: any) => {\n    const price_list_product = order.products.reduce(\n        (number: number, d: any) => number + d.count * d.price,\n        0\n    );\n\n    const price_chiet_khau = (price: number) => {\n        const { discount, discountBy } = order.deliveryOptions;\n        if (discountBy === 1) {\n            return (price * discount) / 100;\n        }\n        return discount;\n    };\n\n    const discount = price_chiet_khau(price_list_product);\n\n    return price_list_product + order.deliveryOptions.shipmentFeeForCustomer - discount;\n};\n\nexport { getFee, getTotalPrice };\n"]},"metadata":{},"sourceType":"module"}