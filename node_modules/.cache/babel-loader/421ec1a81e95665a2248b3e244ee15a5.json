{"ast":null,"code":"var _jsxFileName = \"/Users/mac3/Desktop/workspace/FacebookClient/src/pages/settings/comment/index.tsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport { Switch, message, Row, Col } from 'antd';\nimport { CheckOutlined, CloseOutlined } from '@ant-design/icons';\nimport { getFacebookPageSetting, updateFacebookPageSetting } from '../../../api/setting';\nimport { useSelector } from 'react-redux';\nimport SelectPage from '../../report/form-filter/select-page';\nimport useHiddenModalExpired from '../../../hooks/use-hidden-modal-expired';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst style = {\n  marginBottom: 5,\n  marginRight: 10\n};\n\nconst Comment = () => {\n  _s();\n\n  const store = useSelector(state => state.store.store);\n  const token = useSelector(state => state.auth.token);\n  const pages = useSelector(state => state.fanpage.pages);\n  const page = useSelector(state => state.fanpage.page);\n  const [hideAllComments, setHideAllComment] = useState(false);\n  const [hidePhoneComments, setHidePhoneComments] = useState(false);\n  const [pageId, setPageId] = useState(page._id);\n  const [dataPage, setDataPage] = useState(page);\n  const {\n    hiddenModalExpired\n  } = useHiddenModalExpired();\n  useEffect(() => {\n    async function fetchFacebookPageSetting() {\n      try {\n        const res = await getFacebookPageSetting({\n          storeId: store._id,\n          fbPageId: dataPage.fbObjectId,\n          token: token.accessToken\n        });\n\n        if (res) {\n          setHideAllComment(res.hideAllComments || false);\n          setHidePhoneComments(res.hidePhoneComments || false);\n        } else {\n          setHideAllComment(false);\n          setHidePhoneComments(false);\n        }\n      } catch (error) {\n        message.error('Lỗi tải trang!');\n      }\n    }\n\n    fetchFacebookPageSetting();\n  }, [pageId]);\n\n  const onChangeHideAllComment = async value => {\n    try {\n      setHideAllComment(value);\n\n      if (value) {\n        setHidePhoneComments(!value);\n      }\n\n      await updateFacebookPageSetting({\n        storeId: store._id,\n        fbPageId: dataPage.fbObjectId,\n        token: token.accessToken,\n        data: {\n          hideAllComments: value,\n          hidePhoneComments: false\n        }\n      });\n      message.success('Cài đặt thành công');\n    } catch (error) {\n      message.error('Cài đặt thất bại');\n    }\n  };\n\n  const onChangeHidePhoneComments = async value => {\n    try {\n      setHidePhoneComments(value);\n\n      if (value) {\n        setHideAllComment(!value);\n      }\n\n      await updateFacebookPageSetting({\n        storeId: store._id,\n        fbPageId: dataPage.fbObjectId,\n        token: token.accessToken,\n        data: {\n          hideAllComments: false,\n          hidePhoneComments: value\n        }\n      });\n      message.success('Cài đặt thành công');\n    } catch (error) {\n      message.error('Cài đặt thất bại');\n    }\n  };\n\n  const selectPage = pageId => {\n    setPageId(pageId);\n    const pageSelected = Object.keys(pages).map(key => pages[key]).find(p => p._id === pageId);\n    setDataPage(pageSelected);\n  };\n\n  const renderContent = () => {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(Row, {\n        gutter: 15,\n        style: style,\n        children: [/*#__PURE__*/_jsxDEV(Col, {\n          children: /*#__PURE__*/_jsxDEV(\"p\", {\n            style: {\n              color: 'red',\n              marginTop: 5\n            },\n            children: \"C\\xE0i \\u0111\\u1EB7t t\\u1EF1 \\u0111\\u1ED9ng \\u1EA9n b\\xECnh lu\\u1EADn cho trang\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 100,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Col, {\n          children: /*#__PURE__*/_jsxDEV(SelectPage, {\n            selectPage: selectPage,\n            valuePage: pageId\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 105,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 104,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        style: style,\n        children: [/*#__PURE__*/_jsxDEV(Switch, {\n          disabled: hiddenModalExpired,\n          checkedChildren: /*#__PURE__*/_jsxDEV(CheckOutlined, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 111,\n            columnNumber: 42\n          }, this),\n          unCheckedChildren: /*#__PURE__*/_jsxDEV(CloseOutlined, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 112,\n            columnNumber: 44\n          }, this),\n          onChange: onChangeHideAllComment,\n          checked: hideAllComments,\n          style: style\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 109,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          children: \"\\u1EA8n t\\u1EA5t c\\u1EA3 b\\xECnh lu\\u1EADn\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 117,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [/*#__PURE__*/_jsxDEV(Switch, {\n          disabled: hiddenModalExpired,\n          checkedChildren: /*#__PURE__*/_jsxDEV(CheckOutlined, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 122,\n            columnNumber: 42\n          }, this),\n          unCheckedChildren: /*#__PURE__*/_jsxDEV(CloseOutlined, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 123,\n            columnNumber: 44\n          }, this),\n          onChange: onChangeHidePhoneComments,\n          checked: hidePhoneComments,\n          style: style\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 120,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          children: \"Ch\\u1EC9 \\u1EA9n nh\\u1EEFng b\\xECnh lu\\u1EADn ch\\u1EE9a s\\u1ED1 \\u0111i\\u1EC7n tho\\u1EA1i\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 128,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 13\n    }, this);\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: renderContent()\n  }, void 0, false);\n};\n\n_s(Comment, \"WZhw5trsZuzsVg3MfevK7hPV98U=\", false, function () {\n  return [useSelector, useSelector, useSelector, useSelector, useHiddenModalExpired];\n});\n\n_c = Comment;\nexport default Comment;\n\nvar _c;\n\n$RefreshReg$(_c, \"Comment\");","map":{"version":3,"sources":["/Users/mac3/Desktop/workspace/FacebookClient/src/pages/settings/comment/index.tsx"],"names":["React","useState","useEffect","Switch","message","Row","Col","CheckOutlined","CloseOutlined","getFacebookPageSetting","updateFacebookPageSetting","useSelector","SelectPage","useHiddenModalExpired","style","marginBottom","marginRight","Comment","store","state","token","auth","pages","fanpage","page","hideAllComments","setHideAllComment","hidePhoneComments","setHidePhoneComments","pageId","setPageId","_id","dataPage","setDataPage","hiddenModalExpired","fetchFacebookPageSetting","res","storeId","fbPageId","fbObjectId","accessToken","error","onChangeHideAllComment","value","data","success","onChangeHidePhoneComments","selectPage","pageSelected","Object","keys","map","key","find","p","renderContent","color","marginTop"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Switch, message, Row, Col } from 'antd';\nimport { CheckOutlined, CloseOutlined } from '@ant-design/icons';\nimport { getFacebookPageSetting, updateFacebookPageSetting } from '../../../api/setting';\nimport { useSelector } from 'react-redux';\nimport SelectPage from '../../report/form-filter/select-page';\nimport useHiddenModalExpired from '../../../hooks/use-hidden-modal-expired';\n\nconst style = { marginBottom: 5, marginRight: 10 };\n\nconst Comment = (): JSX.Element => {\n    const store = useSelector((state: any) => state.store.store);\n    const token = useSelector((state: any) => state.auth.token);\n    const pages = useSelector((state: any) => state.fanpage.pages);\n    const page = useSelector((state: any) => state.fanpage.page);\n\n    const [hideAllComments, setHideAllComment] = useState(false);\n    const [hidePhoneComments, setHidePhoneComments] = useState(false);\n    const [pageId, setPageId] = useState(page._id);\n    const [dataPage, setDataPage] = useState(page);\n    const { hiddenModalExpired } = useHiddenModalExpired();\n\n    useEffect(() => {\n        async function fetchFacebookPageSetting() {\n            try {\n                const res = await getFacebookPageSetting({\n                    storeId: store._id,\n                    fbPageId: dataPage.fbObjectId,\n                    token: token.accessToken,\n                });\n                if (res) {\n                    setHideAllComment(res.hideAllComments || false);\n                    setHidePhoneComments(res.hidePhoneComments || false);\n                } else {\n                    setHideAllComment(false);\n                    setHidePhoneComments(false);\n                }\n            } catch (error) {\n                message.error('Lỗi tải trang!');\n            }\n        }\n        fetchFacebookPageSetting();\n    }, [pageId]);\n\n    const onChangeHideAllComment = async (value: boolean) => {\n        try {\n            setHideAllComment(value);\n            if (value) {\n                setHidePhoneComments(!value);\n            }\n            await updateFacebookPageSetting({\n                storeId: store._id,\n                fbPageId: dataPage.fbObjectId,\n                token: token.accessToken,\n                data: {\n                    hideAllComments: value,\n                    hidePhoneComments: false,\n                },\n            });\n            message.success('Cài đặt thành công');\n        } catch (error) {\n            message.error('Cài đặt thất bại');\n        }\n    };\n\n    const onChangeHidePhoneComments = async (value: boolean) => {\n        try {\n            setHidePhoneComments(value);\n            if (value) {\n                setHideAllComment(!value);\n            }\n            await updateFacebookPageSetting({\n                storeId: store._id,\n                fbPageId: dataPage.fbObjectId,\n                token: token.accessToken,\n                data: {\n                    hideAllComments: false,\n                    hidePhoneComments: value,\n                },\n            });\n            message.success('Cài đặt thành công');\n        } catch (error) {\n            message.error('Cài đặt thất bại');\n        }\n    };\n\n    const selectPage = (pageId: string) => {\n        setPageId(pageId);\n        const pageSelected = Object.keys(pages)\n            .map((key: string) => pages[key])\n            .find((p: any) => p._id === pageId);\n        setDataPage(pageSelected);\n    };\n\n    const renderContent = () => {\n        return (\n            <div>\n                <Row gutter={15} style={style}>\n                    <Col>\n                        <p style={{ color: 'red', marginTop: 5 }}>\n                            Cài đặt tự động ẩn bình luận cho trang\n                        </p>\n                    </Col>\n                    <Col>\n                        <SelectPage selectPage={selectPage} valuePage={pageId} />\n                    </Col>\n                </Row>\n                <p style={style}>\n                    <Switch\n                        disabled={hiddenModalExpired}\n                        checkedChildren={<CheckOutlined />}\n                        unCheckedChildren={<CloseOutlined />}\n                        onChange={onChangeHideAllComment}\n                        checked={hideAllComments}\n                        style={style}\n                    />\n                    <span>Ẩn tất cả bình luận</span>\n                </p>\n                <p>\n                    <Switch\n                        disabled={hiddenModalExpired}\n                        checkedChildren={<CheckOutlined />}\n                        unCheckedChildren={<CloseOutlined />}\n                        onChange={onChangeHidePhoneComments}\n                        checked={hidePhoneComments}\n                        style={style}\n                    />\n                    <span>Chỉ ẩn những bình luận chứa số điện thoại</span>\n                </p>\n            </div>\n        );\n    };\n\n    return <>{renderContent()}</>;\n};\n\nexport default Comment;\n"]},"metadata":{},"sourceType":"module"}