{"ast":null,"code":"var _jsxFileName = \"/Users/mac3/Desktop/workspace/FacebookClient/src/pages/conversation/conversation-customer/order-store.tsx\",\n    _s = $RefreshSig$();\n\nimport { Form, Select } from 'antd';\nimport React, { useEffect, useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { fetchWarehouses } from '../../../reducers/warehouseState/warehouseAction';\nimport { useOrder } from './context-order';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst FormItem = Form.Item;\nconst style = {\n  margin: '10px 0'\n};\nconst LIMIT = 20;\n\nconst OrderStore = () => {\n  _s();\n\n  const {\n    order,\n    setOrder\n  } = useOrder();\n  const [page, setPage] = useState(1);\n  const [dataWarehouse, setDataWarehouse] = useState([]);\n  const warehouses = useSelector(({\n    warehouse\n  }) => warehouse.warehouses.data);\n  const total = useSelector(({\n    warehouse\n  }) => warehouse.warehouses.total);\n  const dispatch = useDispatch();\n  const [formStore] = Form.useForm();\n  useEffect(() => {\n    dispatch(fetchWarehouses({\n      page: 1,\n      limit: LIMIT\n    }));\n    setDataWarehouse(warehouses);\n  }, []);\n  useEffect(() => {\n    if (warehouses) {\n      page === 1 ? setDataWarehouse(warehouses) : setDataWarehouse(dataWarehouse.concat(warehouses));\n    }\n  }, [warehouses]);\n\n  const handleSelectWarehouse = warehouseId => {\n    setOrder({ ...order,\n      warehouseId\n    });\n  };\n\n  const handleScroll = e => {\n    const maxPage = Math.ceil(total / LIMIT);\n    const element = e.target;\n\n    if (element.scrollHeight === element.clientHeight + element.scrollTop && page + 1 <= maxPage) {\n      setPage(page + 1);\n      dispatch(fetchWarehouses({\n        page: page + 1,\n        limit: LIMIT\n      }));\n    }\n  };\n\n  formStore.setFieldsValue({\n    warehouseId: order.warehouseId\n  });\n\n  const renderWarehouse = () => {\n    return /*#__PURE__*/_jsxDEV(Select, {\n      onPopupScroll: handleScroll,\n      onChange: handleSelectWarehouse,\n      placeholder: \"Ch\\u1ECDn \\u0111\\u1ECBa ch\\u1EC9 l\\u1EA5y h\\xE0ng\",\n      style: {\n        width: '100%'\n      },\n      value: order.warehouseId,\n      children: dataWarehouse.map(warehouse => /*#__PURE__*/_jsxDEV(Select.Option, {\n        value: warehouse._id,\n        children: warehouse.name\n      }, warehouse._id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 21\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 13\n    }, this);\n  };\n\n  return /*#__PURE__*/_jsxDEV(Form, {\n    form: formStore,\n    children: /*#__PURE__*/_jsxDEV(FormItem, {\n      label: \"\\u0110\\u1ECBa ch\\u1EC9 l\\u1EA5y h\\xE0ng\",\n      style: { ...style\n      },\n      rules: [{\n        required: true,\n        message: 'Chọn địa chỉ lấy hàng'\n      }],\n      name: \"warehouseId\",\n      initialValue: order.warehouseId,\n      children: renderWarehouse()\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 74,\n    columnNumber: 9\n  }, this);\n};\n\n_s(OrderStore, \"7Ob+xnHn6UJPIhJxHVw5w4N3kmY=\", false, function () {\n  return [useOrder, useSelector, useSelector, useDispatch, Form.useForm];\n});\n\n_c = OrderStore;\nexport default OrderStore;\n\nvar _c;\n\n$RefreshReg$(_c, \"OrderStore\");","map":{"version":3,"sources":["/Users/mac3/Desktop/workspace/FacebookClient/src/pages/conversation/conversation-customer/order-store.tsx"],"names":["Form","Select","React","useEffect","useState","useDispatch","useSelector","fetchWarehouses","useOrder","FormItem","Item","style","margin","LIMIT","OrderStore","order","setOrder","page","setPage","dataWarehouse","setDataWarehouse","warehouses","warehouse","data","total","dispatch","formStore","useForm","limit","concat","handleSelectWarehouse","warehouseId","handleScroll","e","maxPage","Math","ceil","element","target","scrollHeight","clientHeight","scrollTop","setFieldsValue","renderWarehouse","width","map","_id","name","required","message"],"mappings":"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","sourcesContent":["import { Form, Select } from 'antd';\nimport React, { useEffect, useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { fetchWarehouses } from '../../../reducers/warehouseState/warehouseAction';\nimport { useOrder } from './context-order';\n\nconst FormItem = Form.Item;\nconst style = { margin: '10px 0' };\nconst LIMIT = 20;\n\nconst OrderStore = () => {\n    const { order, setOrder } = useOrder();\n    const [page, setPage] = useState(1);\n    const [dataWarehouse, setDataWarehouse] = useState<any[]>([]);\n    const warehouses = useSelector(\n        ({ warehouse }: { warehouse: any }) => warehouse.warehouses.data\n    );\n    const total = useSelector(({ warehouse }: { warehouse: any }) => warehouse.warehouses.total);\n\n    const dispatch = useDispatch();\n    const [formStore] = Form.useForm();\n\n    useEffect(() => {\n        dispatch(fetchWarehouses({ page: 1, limit: LIMIT }));\n        setDataWarehouse(warehouses);\n    }, []);\n\n    useEffect(() => {\n        if (warehouses) {\n            page === 1\n                ? setDataWarehouse(warehouses)\n                : setDataWarehouse(dataWarehouse.concat(warehouses));\n        }\n    }, [warehouses]);\n\n    const handleSelectWarehouse = (warehouseId: string) => {\n        setOrder({ ...order, warehouseId });\n    };\n\n    const handleScroll = (e: any) => {\n        const maxPage = Math.ceil(total / LIMIT);\n        const element = e.target;\n        if (\n            element.scrollHeight === element.clientHeight + element.scrollTop &&\n            page + 1 <= maxPage\n        ) {\n            setPage(page + 1);\n            dispatch(fetchWarehouses({ page: page + 1, limit: LIMIT }));\n        }\n    };\n    formStore.setFieldsValue({\n        warehouseId: order.warehouseId,\n    });\n\n    const renderWarehouse = () => {\n        return (\n            <Select\n                onPopupScroll={handleScroll}\n                onChange={handleSelectWarehouse}\n                placeholder='Chọn địa chỉ lấy hàng'\n                style={{ width: '100%' }}\n                value={order.warehouseId}\n            >\n                {dataWarehouse.map((warehouse: any) => (\n                    <Select.Option key={warehouse._id} value={warehouse._id}>\n                        {warehouse.name}\n                    </Select.Option>\n                ))}\n            </Select>\n        );\n    };\n\n    return (\n        <Form form={formStore}>\n            <FormItem\n                label='Địa chỉ lấy hàng'\n                style={{ ...style }}\n                rules={[{ required: true, message: 'Chọn địa chỉ lấy hàng' }]}\n                name='warehouseId'\n                initialValue={order.warehouseId}\n            >\n                {renderWarehouse()}\n            </FormItem>\n        </Form>\n    );\n};\n\nexport default OrderStore;\n"]},"metadata":{},"sourceType":"module"}