{"ast":null,"code":"var _jsxFileName = \"/Users/mac3/Desktop/workspace/FacebookClient/src/pages/conversation/conversation-detail/hide-comment.tsx\",\n    _s = $RefreshSig$();\n\nimport _ from 'lodash';\nimport React, { useState } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { Tooltip, message, Modal } from 'antd';\nimport { EyeInvisibleOutlined } from '@ant-design/icons';\nimport { hideComment } from '../../../api/conversation-api';\nimport { updateHiddenCommentsConversation } from '../../../reducers/fanpageState/fanpageAction';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Hide = ({\n  comment\n}) => {\n  _s();\n\n  const dispatch = useDispatch();\n  const conversation = useSelector(({\n    fanpage\n  }) => fanpage.conversation);\n  const store = useSelector(({\n    store\n  }) => store.store);\n  const token = useSelector(({\n    auth\n  }) => auth.token);\n  const [hided, setHided] = useState(() => {\n    return _.get(conversation.hiddenComments, `${comment.id}`, false);\n  });\n\n  const showHideConfirm = () => {\n    Modal.confirm({\n      title: hided ? 'Bỏ ẩn bình luận' : 'Ẩn bình luận',\n      content: hided ? 'Bạn chắc chắn muốn bỏ ẩn bình luận này?' : 'Bạn chắc chắn muốn ẩn bình luận này?',\n      okText: hided ? 'Bỏ ẩn bình luận' : 'Ẩn bình luận',\n      okType: 'danger',\n      cancelText: 'Hủy',\n      width: 450,\n\n      onOk() {\n        toggleHide();\n      },\n\n      onCancel() {}\n\n    });\n  };\n\n  const toggleHide = async () => {\n    hideComment({\n      commentId: comment.id,\n      fbPageId: conversation.fbPageId,\n      storeId: store._id,\n      token: token.accessToken,\n      isHidden: !hided,\n      fbConversationId: conversation._id\n    }).then(() => {\n      setHided(!hided);\n      dispatch(updateHiddenCommentsConversation({\n        conversationId: conversation._id,\n        commentId: comment.id,\n        value: !hided\n      }));\n    }).catch(err => {\n      message.error('Đã có lỗi xảy ra!');\n    });\n  };\n\n  const className = hided ? 'bubble_action-item active' : 'bubble_action-item';\n  return /*#__PURE__*/_jsxDEV(Tooltip, {\n    placement: \"top\",\n    title: hided ? 'Bỏ ẩn bình luận' : 'Ẩn bình luận',\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: className,\n      children: /*#__PURE__*/_jsxDEV(EyeInvisibleOutlined, {\n        onClick: showHideConfirm\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 75,\n    columnNumber: 9\n  }, this);\n};\n\n_s(Hide, \"08HysIZTRGUUxyBws3dx2GmosWo=\", false, function () {\n  return [useDispatch, useSelector, useSelector, useSelector];\n});\n\n_c = Hide;\nexport default Hide;\n\nvar _c;\n\n$RefreshReg$(_c, \"Hide\");","map":{"version":3,"sources":["/Users/mac3/Desktop/workspace/FacebookClient/src/pages/conversation/conversation-detail/hide-comment.tsx"],"names":["_","React","useState","useSelector","useDispatch","Tooltip","message","Modal","EyeInvisibleOutlined","hideComment","updateHiddenCommentsConversation","Hide","comment","dispatch","conversation","fanpage","store","token","auth","hided","setHided","get","hiddenComments","id","showHideConfirm","confirm","title","content","okText","okType","cancelText","width","onOk","toggleHide","onCancel","commentId","fbPageId","storeId","_id","accessToken","isHidden","fbConversationId","then","conversationId","value","catch","err","error","className"],"mappings":"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","sourcesContent":["import _ from 'lodash';\nimport React, { FC, useState } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { Tooltip, message, Modal } from 'antd';\nimport { EyeInvisibleOutlined } from '@ant-design/icons';\n\nimport { hideComment } from '../../../api/conversation-api';\nimport { IAuthState } from '../../../reducers/authState/authReducer';\nimport { IConversation, IFacebookState } from '../../../reducers/fanpageState/fanpageReducer';\nimport { IStoreState } from '../../../reducers/storeState/storeReducer';\nimport { Comment } from './context';\nimport { updateHiddenCommentsConversation } from '../../../reducers/fanpageState/fanpageAction';\n\ninterface Props {\n    comment: Comment;\n}\n\nconst Hide: FC<Props> = ({ comment }): JSX.Element => {\n    const dispatch = useDispatch();\n    const conversation: IConversation = useSelector(\n        ({ fanpage }: { fanpage: IFacebookState }) => fanpage.conversation\n    );\n    const store = useSelector(({ store }: { store: IStoreState }) => store.store);\n\n    const token: any = useSelector(({ auth }: { auth: IAuthState }) => auth.token);\n\n    const [hided, setHided] = useState(() => {\n        return _.get(conversation.hiddenComments, `${comment.id}`, false);\n    });\n\n    const showHideConfirm = () => {\n        Modal.confirm({\n            title: hided ? 'Bỏ ẩn bình luận' : 'Ẩn bình luận',\n            content: hided\n                ? 'Bạn chắc chắn muốn bỏ ẩn bình luận này?'\n                : 'Bạn chắc chắn muốn ẩn bình luận này?',\n            okText: hided ? 'Bỏ ẩn bình luận' : 'Ẩn bình luận',\n            okType: 'danger',\n            cancelText: 'Hủy',\n            width: 450,\n            onOk() {\n                toggleHide();\n            },\n            onCancel() {},\n        });\n    };\n\n    const toggleHide = async () => {\n        hideComment({\n            commentId: comment.id,\n            fbPageId: conversation.fbPageId,\n            storeId: store._id,\n            token: token.accessToken,\n            isHidden: !hided,\n            fbConversationId: conversation._id,\n        })\n            .then(() => {\n                setHided(!hided);\n                dispatch(\n                    updateHiddenCommentsConversation({\n                        conversationId: conversation._id,\n                        commentId: comment.id,\n                        value: !hided,\n                    })\n                );\n            })\n            .catch((err) => {\n                message.error('Đã có lỗi xảy ra!');\n            });\n    };\n\n    const className = hided ? 'bubble_action-item active' : 'bubble_action-item';\n\n    return (\n        <Tooltip placement='top' title={hided ? 'Bỏ ẩn bình luận' : 'Ẩn bình luận'}>\n            <div className={className}>\n                <EyeInvisibleOutlined onClick={showHideConfirm} />\n            </div>\n        </Tooltip>\n    );\n};\n\nexport default Hide;\n"]},"metadata":{},"sourceType":"module"}