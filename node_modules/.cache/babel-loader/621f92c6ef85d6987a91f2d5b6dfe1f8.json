{"ast":null,"code":"var _jsxFileName = \"/Users/mac3/Desktop/workspace/FacebookClient/src/pages/live-stream/script/script-action.tsx\",\n    _s = $RefreshSig$();\n\nimport { ExclamationCircleOutlined } from '@ant-design/icons';\nimport { Button, Dropdown, Menu, message, Modal } from 'antd';\nimport React from 'react';\nimport { useSelector } from 'react-redux';\nimport { Link, useHistory } from 'react-router-dom';\nimport livestreamApi from '../../../api/livestream-api';\nimport { DownIcon } from '../../../assets/icon';\nimport ScriptCopy from '../scripts/script-copy';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst ScriptAction = ({\n  script\n}) => {\n  _s();\n\n  const history = useHistory();\n  const store = useSelector(state => state.store.store);\n\n  const removeScript = () => {\n    Modal.confirm({\n      title: 'Xóa kịch bản',\n      icon: /*#__PURE__*/_jsxDEV(ExclamationCircleOutlined, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 22,\n        columnNumber: 19\n      }, this),\n      content: /*#__PURE__*/_jsxDEV(\"span\", {\n        children: [\"B\\u1EA1n ch\\u1EAFc ch\\u1EAFn mu\\u1ED1n x\\xF3a k\\u1ECBch b\\u1EA3n \", /*#__PURE__*/_jsxDEV(\"strong\", {\n          children: script.name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 25,\n          columnNumber: 53\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 24,\n        columnNumber: 17\n      }, this),\n      okText: 'Xóa',\n      cancelText: 'Hủy',\n\n      onOk() {\n        return livestreamApi.deleteScript({\n          storeId: store._id,\n          fbPageId: script.fbPageId,\n          scriptId: script._id\n        }).then(res => {\n          history.push('/customer/livestream/scripts');\n          message.success('Xóa kịch bản thành công');\n        }).catch(error => {\n          message.error('Lỗi xóa kịch bản');\n        });\n      }\n\n    });\n  };\n\n  const script_copy = { ...script,\n    keywords: script.keywords.map(keyword => {\n      const products = keyword.products.map(product => {\n        return {\n          price: product.price,\n          productId: product.productId._id\n        };\n      });\n      return {\n        keyword: keyword.keyword,\n        products\n      };\n    })\n  };\n\n  const menu = /*#__PURE__*/_jsxDEV(Menu, {\n    children: [script.status === 0 ? /*#__PURE__*/_jsxDEV(Menu.Item, {\n      children: /*#__PURE__*/_jsxDEV(Link, {\n        to: `/customer/livestream/script/${script.fbPageId}/${script._id}/edit`,\n        children: \"S\\u1EEDa\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 21\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 17\n    }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {}, void 0, false), /*#__PURE__*/_jsxDEV(Menu.Item, {\n      children: /*#__PURE__*/_jsxDEV(ScriptCopy, {\n        script: script_copy,\n        children: /*#__PURE__*/_jsxDEV(\"span\", {\n          children: \"Sao ch\\xE9p\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Menu.Divider, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Menu.Item, {\n      onClick: removeScript,\n      children: \"X\\xF3a\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 65,\n    columnNumber: 9\n  }, this);\n\n  return /*#__PURE__*/_jsxDEV(Dropdown, {\n    overlay: menu,\n    arrow: true,\n    trigger: ['click'],\n    children: /*#__PURE__*/_jsxDEV(Button, {\n      className: \"trigger-dropdown-btn\",\n      children: /*#__PURE__*/_jsxDEV(DownIcon, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 86,\n    columnNumber: 9\n  }, this);\n};\n\n_s(ScriptAction, \"QVhIzjabDZtH6kXhqfWOktNPOAI=\", false, function () {\n  return [useHistory, useSelector];\n});\n\n_c = ScriptAction;\nexport default ScriptAction;\n\nvar _c;\n\n$RefreshReg$(_c, \"ScriptAction\");","map":{"version":3,"sources":["/Users/mac3/Desktop/workspace/FacebookClient/src/pages/live-stream/script/script-action.tsx"],"names":["ExclamationCircleOutlined","Button","Dropdown","Menu","message","Modal","React","useSelector","Link","useHistory","livestreamApi","DownIcon","ScriptCopy","ScriptAction","script","history","store","state","removeScript","confirm","title","icon","content","name","okText","cancelText","onOk","deleteScript","storeId","_id","fbPageId","scriptId","then","res","push","success","catch","error","script_copy","keywords","map","keyword","products","product","price","productId","menu","status"],"mappings":"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","sourcesContent":["import { ExclamationCircleOutlined } from '@ant-design/icons';\nimport { Button, Dropdown, Menu, message, Modal } from 'antd';\nimport React, { FC } from 'react';\nimport { useSelector } from 'react-redux';\nimport { Link, useHistory } from 'react-router-dom';\nimport livestreamApi from '../../../api/livestream-api';\nimport { DownIcon } from '../../../assets/icon';\nimport { ILivestreamScript } from '../../../collections/livestream-script';\nimport ScriptCopy from '../scripts/script-copy';\n\ninterface Props {\n    script: ILivestreamScript;\n}\n\nconst ScriptAction: FC<Props> = ({ script }) => {\n    const history = useHistory();\n    const store = useSelector((state: any) => state.store.store);\n\n    const removeScript = () => {\n        Modal.confirm({\n            title: 'Xóa kịch bản',\n            icon: <ExclamationCircleOutlined />,\n            content: (\n                <span>\n                    Bạn chắc chắn muốn xóa kịch bản <strong>{script.name}</strong>\n                </span>\n            ),\n            okText: 'Xóa',\n            cancelText: 'Hủy',\n            onOk() {\n                return livestreamApi\n                    .deleteScript({\n                        storeId: store._id,\n                        fbPageId: script.fbPageId,\n                        scriptId: script._id,\n                    })\n                    .then((res) => {\n                        history.push('/customer/livestream/scripts');\n                        message.success('Xóa kịch bản thành công');\n                    })\n                    .catch((error) => {\n                        message.error('Lỗi xóa kịch bản');\n                    });\n            },\n        });\n    };\n\n    const script_copy = {\n        ...script,\n        keywords: script.keywords.map((keyword: any) => {\n            const products = keyword.products.map((product: any) => {\n                return {\n                    price: product.price,\n                    productId: product.productId._id,\n                };\n            });\n            return {\n                keyword: keyword.keyword,\n                products,\n            };\n        }),\n    };\n\n    const menu = (\n        <Menu>\n            {script.status === 0 ? (\n                <Menu.Item>\n                    <Link to={`/customer/livestream/script/${script.fbPageId}/${script._id}/edit`}>\n                        Sửa\n                    </Link>\n                </Menu.Item>\n            ) : (\n                <></>\n            )}\n            <Menu.Item>\n                <ScriptCopy script={script_copy}>\n                    <span>Sao chép</span>\n                </ScriptCopy>\n            </Menu.Item>\n            <Menu.Divider />\n            <Menu.Item onClick={removeScript}>Xóa</Menu.Item>\n        </Menu>\n    );\n\n    return (\n        <Dropdown overlay={menu} arrow trigger={['click']}>\n            <Button className='trigger-dropdown-btn'>\n                <DownIcon />\n            </Button>\n        </Dropdown>\n    );\n};\n\nexport default ScriptAction;\n"]},"metadata":{},"sourceType":"module"}