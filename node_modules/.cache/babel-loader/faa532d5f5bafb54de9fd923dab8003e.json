{"ast":null,"code":"var _jsxFileName = \"/Users/mac3/Desktop/workspace/FacebookClient/src/pages/live-stream/script-edit/index.tsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport ScriptStep from '../script-step';\nimport { useParams } from 'react-router-dom';\nimport { Loading } from '../../../components';\nimport livestreamApi from '../../../api/livestream-api';\nimport { useSelector } from 'react-redux';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst ScriptEdit = props => {\n  _s();\n\n  const store = useSelector(state => state.store.store);\n  const [loading, setLoading] = useState(true);\n  const [script, setScript] = useState(true);\n  const params = useParams();\n  useEffect(() => {\n    async function loadScript({\n      scriptId,\n      fbPageId\n    }) {\n      try {\n        setLoading(true);\n        const response = await livestreamApi.loadScript({\n          storeId: store._id,\n          scriptId,\n          fbPageId\n        });\n        setScript(response);\n        setLoading(false);\n      } catch (error) {\n        setLoading(false);\n      }\n    }\n\n    if (params.fbPageId && params.scriptId) {\n      loadScript({\n        scriptId: params.scriptId,\n        fbPageId: params.fbPageId\n      });\n    }\n  }, []);\n  if (loading) return /*#__PURE__*/_jsxDEV(Loading, {}, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 40,\n    columnNumber: 25\n  }, this);\n\n  if (!params.fbPageId || !params.scriptId || !script) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: \"No script\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 16\n    }, this);\n  }\n\n  return /*#__PURE__*/_jsxDEV(ScriptStep, {\n    script: script\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 46,\n    columnNumber: 12\n  }, this);\n};\n\n_s(ScriptEdit, \"+jT7rAmIXgjfyDf3vgGWDAAWqGs=\", false, function () {\n  return [useSelector, useParams];\n});\n\n_c = ScriptEdit;\nexport default ScriptEdit;\n\nvar _c;\n\n$RefreshReg$(_c, \"ScriptEdit\");","map":{"version":3,"sources":["/Users/mac3/Desktop/workspace/FacebookClient/src/pages/live-stream/script-edit/index.tsx"],"names":["React","useState","useEffect","ScriptStep","useParams","Loading","livestreamApi","useSelector","ScriptEdit","props","store","state","loading","setLoading","script","setScript","params","loadScript","scriptId","fbPageId","response","storeId","_id","error"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,OAAOC,UAAP,MAAuB,gBAAvB;AACA,SAASC,SAAT,QAA0B,kBAA1B;AACA,SAASC,OAAT,QAAwB,qBAAxB;AACA,OAAOC,aAAP,MAA0B,6BAA1B;AACA,SAASC,WAAT,QAA4B,aAA5B;;;AAQA,MAAMC,UAAU,GAAIC,KAAD,IAAkB;AAAA;;AACjC,QAAMC,KAAK,GAAGH,WAAW,CAAEI,KAAD,IAAgBA,KAAK,CAACD,KAAN,CAAYA,KAA7B,CAAzB;AACA,QAAM,CAACE,OAAD,EAAUC,UAAV,IAAwBZ,QAAQ,CAAC,IAAD,CAAtC;AACA,QAAM,CAACa,MAAD,EAASC,SAAT,IAAsBd,QAAQ,CAAC,IAAD,CAApC;AACA,QAAMe,MAAM,GAAGZ,SAAS,EAAxB;AAEAF,EAAAA,SAAS,CAAC,MAAM;AACZ,mBAAee,UAAf,CAA0B;AAAEC,MAAAA,QAAF;AAAYC,MAAAA;AAAZ,KAA1B,EAA0F;AACtF,UAAI;AACAN,QAAAA,UAAU,CAAC,IAAD,CAAV;AACA,cAAMO,QAAQ,GAAG,MAAMd,aAAa,CAACW,UAAd,CAAyB;AAC5CI,UAAAA,OAAO,EAAEX,KAAK,CAACY,GAD6B;AAE5CJ,UAAAA,QAF4C;AAG5CC,UAAAA;AAH4C,SAAzB,CAAvB;AAKAJ,QAAAA,SAAS,CAACK,QAAD,CAAT;AACAP,QAAAA,UAAU,CAAC,KAAD,CAAV;AACH,OATD,CASE,OAAOU,KAAP,EAAc;AACZV,QAAAA,UAAU,CAAC,KAAD,CAAV;AACH;AACJ;;AACD,QAAIG,MAAM,CAACG,QAAP,IAAmBH,MAAM,CAACE,QAA9B,EAAwC;AACpCD,MAAAA,UAAU,CAAC;AAAEC,QAAAA,QAAQ,EAAEF,MAAM,CAACE,QAAnB;AAA6BC,QAAAA,QAAQ,EAAEH,MAAM,CAACG;AAA9C,OAAD,CAAV;AACH;AACJ,GAlBQ,EAkBN,EAlBM,CAAT;AAoBA,MAAIP,OAAJ,EAAa,oBAAO,QAAC,OAAD;AAAA;AAAA;AAAA;AAAA,UAAP;;AAEb,MAAI,CAACI,MAAM,CAACG,QAAR,IAAoB,CAACH,MAAM,CAACE,QAA5B,IAAwC,CAACJ,MAA7C,EAAqD;AACjD,wBAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAAP;AACH;;AAED,sBAAO,QAAC,UAAD;AAAY,IAAA,MAAM,EAAEA;AAApB;AAAA;AAAA;AAAA;AAAA,UAAP;AACH,CAjCD;;GAAMN,U;UACYD,W,EAGCH,S;;;KAJbI,U;AAmCN,eAAeA,UAAf","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport ScriptStep from '../script-step';\nimport { useParams } from 'react-router-dom';\nimport { Loading } from '../../../components';\nimport livestreamApi from '../../../api/livestream-api';\nimport { useSelector } from 'react-redux';\n\ninterface Props {}\ninterface Params {\n    fbPageId?: string;\n    scriptId?: string;\n}\n\nconst ScriptEdit = (props: Props) => {\n    const store = useSelector((state: any) => state.store.store);\n    const [loading, setLoading] = useState(true);\n    const [script, setScript] = useState(true);\n    const params = useParams<Params>();\n\n    useEffect(() => {\n        async function loadScript({ scriptId, fbPageId }: { scriptId: string; fbPageId: string }) {\n            try {\n                setLoading(true);\n                const response = await livestreamApi.loadScript({\n                    storeId: store._id,\n                    scriptId,\n                    fbPageId,\n                });\n                setScript(response);\n                setLoading(false);\n            } catch (error) {\n                setLoading(false);\n            }\n        }\n        if (params.fbPageId && params.scriptId) {\n            loadScript({ scriptId: params.scriptId, fbPageId: params.fbPageId });\n        }\n    }, []);\n\n    if (loading) return <Loading />;\n\n    if (!params.fbPageId || !params.scriptId || !script) {\n        return <div>No script</div>;\n    }\n\n    return <ScriptStep script={script} />;\n};\n\nexport default ScriptEdit;\n"]},"metadata":{},"sourceType":"module"}